@using DataAccess
@model Tuple<string, DataAccess.ViewModels.UserCardThemeSettingViewModel>
@{
    int totalRows = 0;
    int page = 1;
    int size = 2;
    string sortBy = "TemplateId";
    string sortOrder = "ASC";
    string searchText = Model.Item1.NullToString();
    var list = new DataAccess.Repository.CardThemeRepository().FetchAllCardTemplates(page, size, sortBy, sortOrder, searchText, out totalRows, "BharatTouch/EditProfile/_SelectCardThemeFormModel.cshtml");
}

<style>
    .card-theme-item {
/*        height: 200px;*/
    }

        .card-theme-item img {
            max-height: 67%;
            max-width: -webkit-fill-available;
            height: 400px;
        }

</style>


<div id="selectCardThemeFormModel">
    <input type="hidden" id="hdnPage" value="@page" />
    <input type="hidden" id="hdnSize" value="@size" />
    <input type="hidden" id="hdnSortBy" value="@sortBy" />
    <input type="hidden" id="hdnSortOrder" value="@sortOrder" />
    <input type="hidden" id="hdnSearchText" value="@searchText" />

    <input type="hidden" id="hdnTotalRows" value="@totalRows" />

    <input type="hidden" id="hdnSelectThemeUserId" value="@Model.Item2.UserId" />
    <input type="hidden" id="hdnSelectThemeBackgroundImg" value="@Model.Item2.BackgroundImg" />
    <input type="hidden" id="hdnSelectedThemeTemplateId" value="@Model.Item2.TemplateId" />
    <div id="cardThemeListContainer" class="align-items-center row">
        @if (list.Count > 0)
        {

            foreach (var item in list)
            {
                <div class="col-lg-4 col-md-6 col-sm-1 d-flex flex-column text-center my-2 p-2 card-theme-item">
                    <img src="@item.ImageUrl" class="img-fluid" alt="@item.Name" />
                    <a class="btn btn-@(Model.Item2.TemplateId == item.TemplateId ? "secondary" : "primary") btn-sm mt-2 select-card-theme" data-id="@item.TemplateId">
                        <div class="lds-dual-ring"></div>&nbsp; @(Model.Item2.TemplateId == item.TemplateId ? "Selected" : "Select")
                    </a>
                </div>
            }

        }
        else
        {
            <div class="col-lg-12 col-md-12 col-sm-12 d-flex flex-column text-center my-2 p-2">
                <h4>No data found</h4>
            </div>
        }
    </div>
</div>