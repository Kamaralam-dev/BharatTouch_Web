@model DataAccess.Models.UserModel
@using BharatTouch.CommonHelper
@using DataAccess
@{ var WebUrl = ConfigValues.WebUrl;
    ViewBag.Title = "Bharat Touch";
    var id = Url.RequestContext.RouteData.Values["id"];
    Layout = "~/Views/Shared/_formLayout.cshtml";
    int userid = BharatTouch.CommonHelper.Utility.GetCookie("UserId_auth").ToIntOrZero();
    int companyId = BharatTouch.CommonHelper.Utility.GetCookie("CompanyId_auth").ToIntOrZero();
    var coverImgSrc = "";
    bool disableCompanyManagedSections = companyId > 0;
    if (companyId > 0)
    {

        coverImgSrc = WebUrl + "/Uploads/Company/CoverImage/" + companyId + ".png";
    }
    else
    {
        coverImgSrc = Model.CoverImage;
    }



    var UserUrlCode = Url.RequestContext.RouteData.Values["code"].NullToString();

    var linkedIn = "";
    var Twitter = "";
    var Facebook = "";
    var Instagram = "";
    var Skype = "";
    var Youtube = "";
    var Teams = "";
    var Snapchat = "";
    var Swiggy = "";
    var Zomato = "";
    var socialInfo = new DataAccess.Repository.SocialRepository().GetSocialInfo(userid, "BharatTouch/EditProfile/EditProfile");
    if (socialInfo.Count > 0)
    {
        if (socialInfo.FirstOrDefault(x => x.SocialMedia == "LinkedIn") != null)
        {
            linkedIn = socialInfo.FirstOrDefault(x => x.SocialMedia == "LinkedIn").Url.NullToString();
        }
        if (socialInfo.FirstOrDefault(x => x.SocialMedia == "Twitter") != null)
        {
            Twitter = socialInfo.FirstOrDefault(x => x.SocialMedia == "Twitter").Url.NullToString();
        }
        if (socialInfo.FirstOrDefault(x => x.SocialMedia == "Facebook") != null)
        {
            Facebook = socialInfo.FirstOrDefault(x => x.SocialMedia == "Facebook").Url.NullToString();
        }
        if (socialInfo.FirstOrDefault(x => x.SocialMedia == "Instagram") != null)
        {
            Instagram = socialInfo.FirstOrDefault(x => x.SocialMedia == "Instagram").Url.NullToString();
        }
        if (socialInfo.FirstOrDefault(x => x.SocialMedia == "Skype") != null)
        {
            Skype = socialInfo.FirstOrDefault(x => x.SocialMedia == "Skype").Url.NullToString();
        }
        if (socialInfo.FirstOrDefault(x => x.SocialMedia == "Youtube") != null)
        {
            Youtube = socialInfo.FirstOrDefault(x => x.SocialMedia == "Youtube").Url.NullToString();
        }
        if (socialInfo.FirstOrDefault(x => x.SocialMedia == "Teams") != null)
        {
            Teams = socialInfo.FirstOrDefault(x => x.SocialMedia == "Teams").Url.NullToString();
        }
        if (socialInfo.FirstOrDefault(x => x.SocialMedia == "Snapchat") != null)
        {
            Snapchat = socialInfo.FirstOrDefault(x => x.SocialMedia == "Snapchat").Url.NullToString();
        }
        if (socialInfo.FirstOrDefault(x => x.SocialMedia == "Swiggy") != null)
        {
            Swiggy = socialInfo.FirstOrDefault(x => x.SocialMedia == "Swiggy").Url.NullToString();
        }
        if (socialInfo.FirstOrDefault(x => x.SocialMedia == "Zomato") != null)
        {
            Zomato = socialInfo.FirstOrDefault(x => x.SocialMedia == "Zomato").Url.NullToString();
        }
    }

    //below are access allowed to user

    var userType = Model.UserType.NullToString();


    string countryCode = "";
    if (!string.IsNullOrWhiteSpace(Model.Phone) && Model.Phone.Length > 10)
    {
        countryCode = Model.Phone.Substring(0, 3);
        Model.Phone = Model.Phone.Substring(Math.Max(0, Model.Phone.Length - 10));
    }

    var countriesList = new DataAccess.Repository.CountryRepository().GetCountries("BharatTouch/EditProfile/EditProfile.cshtml");
    var countries = countriesList.Select(n => new SelectListItem()
    {
        Text = n.Country + " (" + n.NumberCode + ")",
        Value = n.CountryId.ToString() + ";" + n.MinNumberLength + ";" + n.MaxNumberLength,
        Selected = n.CountryId == Model.CountryId
    });

    var WhatsAppCountries = countriesList.Select(n => new SelectListItem()
    {
        Text = n.Country + " (" + n.NumberCode + ")",
        Value = n.CountryId.ToString() + ";" + n.MinNumberLength + ";" + n.MaxNumberLength,
        Selected = n.CountryId == Model.WhatsAppCountryId
    });

    var WorkPhoneCountries = countriesList.Select(n => new SelectListItem()
    {
        Text = n.Country + " (" + n.NumberCode + ")",
        Value = n.CountryId.ToString() + ";" + n.MinNumberLength + ";" + n.MaxNumberLength,
        Selected = n.CountryId == Model.WorkPhoneCountryId
    });

    var OtherPhoneCountries = countriesList.Select(n => new SelectListItem()
    {
        Text = n.Country + " (" + n.NumberCode + ")",
        Value = n.CountryId.ToString() + ";" + n.MinNumberLength + ";" + n.MaxNumberLength,
        Selected = n.CountryId == Model.OtherPhoneCountryId
    });

    var _scheduleRepo = new DataAccess.Repository.ScheduleAndMeetingRepository();
    var OpenWeekDaysModel = _scheduleRepo.GetScheduleOpenWeekDays(userid, "BharatTouch/EditProfile");
    if (OpenWeekDaysModel == null)
    {
        OpenWeekDaysModel = new DataAccess.Models.ScheduleOpenWeekDayModel();
    }
    bool isAnyOpenWeekDay = (OpenWeekDaysModel.Sun || OpenWeekDaysModel.Mon || OpenWeekDaysModel.Tue || OpenWeekDaysModel.Wed || OpenWeekDaysModel.Thu || OpenWeekDaysModel.Fri || OpenWeekDaysModel.Sat);


    var upiDetail = new DataAccess.Repository.UserRepository().GetUserUpiDetailByUserId(userid, "BharatTouch/EditProfile");
    if (upiDetail == null)
    {
        upiDetail = new DataAccess.Models.UpiDetailsModel();
        upiDetail.UserId = userid;
    }

    var themeSettings = new DataAccess.Repository.CardThemeRepository().FetchCardThemeSettingByUserId(userid, "BharatTouch/EditProfile");
    if (themeSettings == null)
    {
        themeSettings = new DataAccess.ViewModels.UserCardThemeSettingViewModel();
        themeSettings.UserId = userid;
        themeSettings.TemplateId = 1;
    }

    bool isCoverImageExist = false;
    try
    {
        isCoverImageExist = System.IO.File.Exists(Server.MapPath("~" + Model.CoverImage));
    }
    catch (Exception ex)
    {
        isCoverImageExist = false;
    }

    string googleAccessToken = string.Empty;
    string microsoftAccessToken = string.Empty;
    var userTokenResult = new DataAccess.Repository.OAuthRepository().GetOAuthTokenByUserId(Model.UserId, "BharatTouch/EditProfile");
    if (userTokenResult != null)
    {
        googleAccessToken = userTokenResult.GoogleAccessToken != null ? userTokenResult.GoogleAccessToken : string.Empty;
        microsoftAccessToken = userTokenResult.MicrosoftAccessToken != null ? userTokenResult.MicrosoftAccessToken : string.Empty;
    }

    var outlookAuthUrl = "https://login.microsoftonline.com/common/oauth2/v2.0/authorize?client_id=" + ConfigValues.MicrosoftClientId + "&response_type=code&redirect_uri=" + ConfigValues.MicrosoftRedirectUri + "&scope=Calendars.ReadWrite offline_access User.Read&response_mode=query&state=" + userid + ";/edit/" + UserUrlCode + ";" + ConfigValues.MicrosoftRedirectUri + ";Calendars.ReadWrite offline_access User.Read";

    var companyTypeTxtClass = Model.CompanyTypeId == 36 ? "none" : "";
    var companyTypeDdlClass = Model.CompanyTypeId == 36 ? "" : "none";

    //var isPackageAvailable = ViewBag.package != null;
    //DataAccess.ViewModels.UserPackageViewModel package = new DataAccess.ViewModels.UserPackageViewModel();
    //if (isPackageAvailable)
    //{
    //    package = ViewBag.package;
    //}

    DirectoryInfo d = new DirectoryInfo(Server.MapPath("~/uploads/Portfolio/" + Model.UserId));//Assuming Test is your Folder
    FileInfo[] galleryImages = null;
    try
    {
        galleryImages = d.GetFiles("*"); //Getting Text files
    }
    catch (Exception ex) { }
    int leadstotalRows = 0;
    new DataAccess.Repository.UserRepository().FetchLeadsByUserId(Model.UserId, 0, 2000, "CreatedOn", "DESC", "", out leadstotalRows, "BharatTouch/_formLayout");

    var whatsappWithCountryCode = Model.WhatsappNumberCode.NullToString() + Model.Whatsapp.NullToString();
    var fullname = Model.FirstName + " " + Model.LastName.NullToString();
    var PhoneNumberWithCountryCode = Model.NumberCode.NullToString() + Model.Phone.NullToString();

    var profileUrl = WebUrl + UserUrlCode;

    var isExistAdhaarFront = false;
    var isExistAdhaarBack = false;

    try
    {
        isExistAdhaarFront = !string.IsNullOrWhiteSpace(Model.AdhaarFrontImgPath) && System.IO.File.Exists(Server.MapPath(Model.AdhaarFrontImgPath));
        isExistAdhaarBack = !string.IsNullOrWhiteSpace(Model.AdhaarBackImgPath) && System.IO.File.Exists(Server.MapPath(Model.AdhaarBackImgPath));
    }
    catch (Exception ex) { }

    var isExistQrImage = false;

    try
    {
        isExistQrImage = !string.IsNullOrWhiteSpace(upiDetail.QrImage) && System.IO.File.Exists(Server.MapPath(upiDetail.QrImage));
    }
    catch (Exception ex) { }

    var qrImage = isExistQrImage ? upiDetail.QrImage.NullToString() : "";

    var ddlCompanyTypeParentIdhtmlAttributes = new Dictionary<string, object>
{
        { "class", "form-control" },
        { "id", "ddlCompanyTypeParentId" }
    };

    if (disableCompanyManagedSections)
    {
        ddlCompanyTypeParentIdhtmlAttributes.Add("disabled", "disabled");
    }

}

<link href="~/Content/page-scripts/Users/Create.css" rel="stylesheet" />
<link href="~/SmartTheme/css/media.css" rel="stylesheet" />
<link href="~/Content/stylesheets/pageCss/editPaymentWizard.css" rel="stylesheet" />

<style>
    /* #hero:before {
        width: 97% !important;
        left: 15px !important;
    }*/
    .cropper-view-box {
        outline: 3px dashed #39f !important;
    }
</style>

<main id="main">
    @Html.Hidden("hdnLoggedUserId", userid)
    @Html.Hidden("hdnProfileImage", Model.ProfileImage)
    @Html.Hidden("hdnBusinessTypeId", Model.CompanyTypeId)
    @Html.Hidden("hdnBusinessTypes", Model.CompanyType)
    @Html.Hidden("hdnBestFitCoverImgProperty", Model.BestFitCoverImage)
    @Html.Hidden("hdnUserGoogleAccessToken", googleAccessToken)
    @Html.Hidden("hdnUserMicrosoftAccessToken", microsoftAccessToken)
    @Html.Hidden("hdnUserUrlCode", UserUrlCode)
    @Html.Hidden("hdnUserPaymentStatus", Model.CheckUserPaymentStatus)
    @Html.Hidden("hdnOrderId", Model.LatestOrderId)
    @Html.Hidden("hdnCompanyId", Model.CompanyId)
    @Html.Hidden("hdnIsLastOrderPending", Model.IsLastOrderPending)
    @Html.Hidden("hdnIsAnyPaymentDoneBefore", Model.IsAnyPaymentDoneBefore)

    @Html.Partial("EditViewPaymentWizard", Model.IsAnyPaymentDoneBefore)

    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Confirm</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <label class="text-danger">Are you sure you want to delete the selected file?</label>

                    <input type="hidden" id="txtfiletype" name="type" />
                    <input type="hidden" id="txtfilepath" name="filepath" />
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" id="btndeletefile" class="btn btn-danger"> <div class="lds-dual-ring"></div>&nbsp;Delete</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="deleteModel" tabindex="-1" aria-labelledby="deleteModelLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="deleteModelLabel">Confirm</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <label class="text-danger">Are you sure you want to delete?</label>

                    <div class="d-none" id="deleteModelData"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" id="btnDeleteModel" class="btn btn-danger"> <div class="lds-dual-ring"></div>&nbsp;Delete</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="cropCoverImageModal" tabindex="-1" aria-labelledby="cropCoverImageModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="cropCoverImageModalLabel">Cover Image</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">

                    <section class="panel">
                        <div class="panel-body top-border-bar mt52">
                            @using (Html.BeginForm("UpsertUserProfileAndCoverImages", "Users", FormMethod.Post, new { id = "coverImageForm", @class = "php-email-form" }))
                            {
                                @Html.HiddenFor(x => x.ProfileImage)
                                @Html.HiddenFor(x => x.CoverImage)
                                @Html.HiddenFor(x => x.UserId)
                                <div class="col-md-12 d-flex justify-content-center">
                                    <div class="form-row w-100">
                                        <div class="form-group col-lg-12" style="text-align:center;">
                                            <span id="cropCoverImagePrfLoader" class="lds-dual-ring-blue"></span>
                                            <div class="w-100" id="cropCoverImageContainer" style="display:none;">
                                                <img id="croppableCoverImage" style="height:auto;" alt="Upload Cover Image" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12 d-flex justify-content-end" style="gap: 10px;">
                                    <button type="submit" class="btn share-btn" id="submitBtn" style=" padding: 10px 35px;"><div class="lds-dual-ring"></div>&nbsp; Submit</button>
                                </div>
                            }
                        </div>
                    </section>


                </div>
            </div>
        </div>
    </div>
    @Html.Action("CardPreview", "CardTheme", new { UserId = Model.UserId })
    <section>

        @*<div class="container-with-preview-card vph-full vpw-80">*@
        <div class="container">
            @*<div id="previewCardSection" class="left-section">
            @Html.Action("CardPreview", "CardTheme", new { UserId = Model.UserId })
        </div>
        <div class="right-section">*@

            <!-- ======= Personal Detail Section ======= -->
            <section id="personal" class="contact">
                <div class="container">

                    <div class="section-title">
                        <h2>Personal Details</h2>
                        <p>
                            You need to enter personal credentials like your name, date of birth. You can also upload PDF files for the services offered, portfolio, menu and resume as well. Once you are done, you need to click the 'update personal details' box. <span style="color:red;">
                                Users also have the option to add a tagline for the profession they are into. You can add different skills using a comma.(Example: Graphic designer - Fun and creativity with designs and colours)
                            </span>
                        </p>

                    </div>

                    <div class="row">

                        <div class="col-lg-12 mt-5 mt-lg-0 d-flex align-items-stretch">
                            @using (Html.BeginForm("PersonalInfo", "Users", FormMethod.Post, new { id = "PersonalInfoUserForm", @class = "php-email-form", @enctype = "multipart/form-data" }))
                            {
                                @Html.HiddenFor(t => t.UserId)
                                @Html.HiddenFor(t => t.UrlCode)
                                <input type="hidden" value="temppassword" name="Password" />
                                @Html.HiddenFor(t => t.EmailId)

                                if (disableCompanyManagedSections)
                                {
                                    <input type="hidden" name="CompanyTypeId" value="@Model.CompanyTypeId" />
                                    @Html.HiddenFor(x => x.CompanyTypeParentId)
                                }

                                <div class="form-row">
                                    @if (ViewBag.BusinessTypeParentList != null)
                                    {
                                        <div class="form-group col-md-6">
                                            <label for="CompanyType"><span style="color:red;">*</span> Business Category</label>
                                            @Html.DropDownListFor(x => x.CompanyTypeParentId, ViewBag.BusinessTypeParentList as SelectList, ddlCompanyTypeParentIdhtmlAttributes)


                                        </div>
                                    }
                                    <div class="form-group col-md-6">
                                        <label for="CompanyType"><span style="color:red;">*</span> Business Type</label>
                                        @*@Html.TextBoxFor(t => t.CompanyType, new { @class = "form-control", @style = "display:" + companyTypeTxtClass + ";", @placeholder = "" })*@
                                        <input type="text"
                                               name="CompanyType"
                                               value="@Model.CompanyType"
                                               class="form-control"
                                               placeholder=""
                                               style="display:@companyTypeTxtClass;"
                                               @(disableCompanyManagedSections ? "readonly='readonly'" : "") />


                                        <select id="ddlCompanyTypeId" name="CompanyTypeId" class="form-control" @(disableCompanyManagedSections ? "disabled" : "") style="display: @companyTypeDdlClass;">
                                            <option value="0">Select Company Type</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <label for="FirstName"><span style="color:red;">*</span> First Name</label>
                                        @Html.TextBoxFor(t => t.FirstName, new { @class = "form-control", @placeholder = "" })
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label for="LastName">Last Name</label>
                                        @Html.TextBoxFor(t => t.LastName, new { @class = "form-control", @placeholder = "" })
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <label for="Company"> Business Name</label>
                                        @*@Html.TextBoxFor(t => t.Company, new { @class = "form-control", @placeholder = "" })*@
                                        <input type="text"
                                               name="Company"
                                               value="@Model.Company"
                                               class="form-control"
                                               placeholder=""
                                               @(disableCompanyManagedSections ? "readonly='true'" : "") />
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label for="CurrentDesignation">Current Designation</label>
                                        @Html.TextBoxFor(t => t.CurrentDesignation, new { @class = "form-control", @placeholder = "" })
                                    </div>
                                </div>


                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        @Html.HiddenFor(x => x.BirthDate)
                                        <label for="BirthDate">Birth Date</label>
                                        @*@Html.TextBox("BirthDate", string.Format("{0:" + BharatTouch.CommonHelper.DateTimeFormatter.Style1 + "}", Model.BirthDate), new { @class = "form-control", @data_plugin_datepicker = "data-plugin-datepicker ", @autocomplete = "off", @autoclose = "true", @placeholder = "" })*@
                                        @if (Model != null)
                                        {
                                            <input type="text" name="BirthDate1" id="BirthDate1" value="@string.Format("{0:" + BharatTouch.CommonHelper.DateTimeFormatter.DefaultStyle + "}", Model.BirthDate)" class="form-control custom-date-picker" />
                                        }
                                        else
                                        {
                                            <input type="text" name="BirthDate1" id="BirthDate1" value="@string.Format("{0:" + BharatTouch.CommonHelper.DateTimeFormatter.DefaultStyle + "}", "")" class="form-control custom-date-picker" />
                                        }
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label for="Gender">Gender</label>
                                        <select name="Gender" class="form-control">
                                            <option value="">Choose Gender</option>
                                            <option value="Male" @(Model.Gender == "Male" ? " selected " : "")>Male</option>
                                            <option value="Female" @(Model.Gender == "Female" ? " selected " : "")>Female</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="Tagline">Tagline</label>
                                    @*@Html.TextBoxFor(t => t.Tagline, new { @class = "form-control required-left", @placeholder = "" })*@
                                    <input type="text"
                                           name="Tagline"
                                           value="@Model.Tagline"
                                           class="form-control"
                                           placeholder=""
                                           @(disableCompanyManagedSections ? "readonly='true'" : "") />
                                </div>
                                <div class="form-group">
                                    <label for="Website">Website</label>
                                    @*@Html.TextBoxFor(t => t.Website, new { @class = "form-control required-left", @placeholder = "" })*@
                                    <input type="text"
                                           name="Website"
                                           value="@Model.Website"
                                           class="form-control"
                                           placeholder=""
                                           @(disableCompanyManagedSections ? "readonly='true'" : "") />
                                </div>
                                <div class="form-group">
                                    <label for="name" style="color:red;">Note : Only Pdf files allowed.</label>
                                </div>

                                <div class="form-row">
                                    <div class="form-group col-md-12">
                                        <div class="form-row">
                                            <div class="col-md-3">
                                                <label for="name">Portfolio</label>
                                            </div>
                                            <div class="col-md-6">
                                                <input type="file" accept=".pdf" name="PortfolioLink" @(disableCompanyManagedSections ? "disabled" : "") id="PortfolioLink" />

                                            </div>
                                            <div class="col-md-2">
                                                @Html.HiddenFor(t => t.PortfolioLink)
                                                @{
                                                    <input type="hidden" value="@Model.PortfolioLink" id="txtportfoliolink" />
                                                    if (!string.IsNullOrWhiteSpace(Model.PortfolioLink) && System.IO.File.Exists(Server.MapPath(Model.PortfolioLink)))
                                                    {

                                                        <a target="_self" href="/Users/DownloadFilesFromPath?fileName=@Model.PortfolioLink" class="btn m-2 btn-sm btn-outline-success" style="padding: 0 3px 0px 3px;height: 24px;"><i class="icofont-download"></i></a>
                                                        if (!disableCompanyManagedSections)
                                                        {
                                                            <a id="btndeleteportfolio" class="btn m-2 btn-sm btn-outline-danger" style="padding: 0 3px 0px 3px;height: 24px;"><i class="icofont-close"></i></a>
                                                        }
                                                    }
                                                }
                                            </div>
                                            <div class="col-md-6">
                                                @{
                                                    if (!string.IsNullOrWhiteSpace(Model.PortfolioLink) && System.IO.File.Exists(Server.MapPath(Model.PortfolioLink)))
                                                    {
                                                        <a id="txtPortfolioFilename" class="text-fileName">@System.IO.Path.GetFileName(Server.MapPath(Model.PortfolioLink))</a>
                                                    }
                                                }
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group col-md-12">
                                        <div class="form-row">
                                            <div class="col-md-3">
                                                <label for="name">
                                                    Services

                                                </label>
                                            </div>
                                            <div class="col-md-6">
                                                <input type="file" accept=".pdf" @(disableCompanyManagedSections ? "disabled" : "") name="ServicesLink" id="ServicesLink" />
                                            </div>
                                            <div class="col-md-2">
                                                @Html.HiddenFor(t => t.ServicesLink)
                                                @{
                                                    <input type="hidden" value="@Model.ServicesLink" id="txtservicelink" />
                                                    if (!string.IsNullOrWhiteSpace(Model.ServicesLink) && System.IO.File.Exists(Server.MapPath(Model.ServicesLink)))
                                                    {
                                                        <a target="_self" href="/Users/DownloadFilesFromPath?fileName=@Model.ServicesLink" style="padding: 0 3px 0px 3px;height: 24px;" class="btn m-2 btn-sm btn-outline-success"><i class="icofont-download"></i></a>
                                                        if (!disableCompanyManagedSections)
                                                        {
                                                            <a id="btndeleteservice" class="btn m-2 btn-sm btn-outline-danger" style="padding: 0 3px 0px 3px;height: 24px;"><i class="icofont-close"></i></a>
                                                        }
                                                    }
                                                }
                                            </div>
                                            <div class="col-md-6">
                                                @{
                                                    if (!string.IsNullOrWhiteSpace(Model.ServicesLink) && System.IO.File.Exists(Server.MapPath(Model.ServicesLink)))
                                                    {
                                                        <a id="txtServiceFilename" class="text-fileName">@System.IO.Path.GetFileName(Server.MapPath(Model.ServicesLink))</a>
                                                    }


                                                }
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                if (!disableCompanyManagedSections)
                                {
                                    <div class="form-group">
                                        <label for="name" style="color:red;">Note : Only (pdf, jpg, jpeg, png, doc, docx) files allowed.</label>
                                    </div>

                                    <div class="form-row">
                                        <div class="form-group col-md-12">
                                            <div class="form-row">
                                                <div class="col-md-3">
                                                    <label for="name">Resume</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <input type="file" accept=".pdf, .jpg, .jpeg, .png, .doc, .docx" name="ResumeLink" id="ResumeLink" />
                                                </div>
                                                <div class="col-md-2">
                                                    @Html.HiddenFor(t => t.ResumeLink)
                                                    @{
                                                        <input type="hidden" value="@Model.ResumeLink" id="txtresumelink" />
                                                        if (!string.IsNullOrWhiteSpace(Model.ResumeLink) && System.IO.File.Exists(Server.MapPath(Model.ResumeLink)))
                                                        {
                                                            <a target="_self" href="/Users/DownloadFilesFromPath?fileName=@Model.ResumeLink" style="padding: 0 3px 0px 3px;height: 24px;" class="btn m-2 btn-sm btn-outline-success"><i class="icofont-download"></i></a>
                                                            <a id="btndeleteresume" style="padding: 0 3px 0px 3px;height: 24px;" class="btn m-2 btn-sm btn-outline-danger"><i class="icofont-close"></i></a>
                                                        }
                                                    }
                                                </div>
                                                <div class="col-md-6">
                                                    @{
                                                        if (!string.IsNullOrWhiteSpace(Model.ResumeLink) && System.IO.File.Exists(Server.MapPath(Model.ResumeLink)))
                                                        {
                                                            <a id="txtResumeFilename" class="text-fileName">@System.IO.Path.GetFileName(Server.MapPath(Model.ResumeLink))</a>
                                                        }
                                                    }
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="form-row">
                                        <div class="form-group col-md-12">
                                            <div class="form-row">
                                                <div class="col-md-3">
                                                    <label for="name">Menu</label>
                                                </div>
                                                <div class="col-md-6">
                                                    <input type="file" accept=".pdf, .jpg, .jpeg, .png, .doc, .docx" name="MenuLink" id="MenuLink" />
                                                </div>
                                                <div class="col-md-2">
                                                    @Html.HiddenFor(t => t.MenuLink)
                                                    @{
                                                        <input type="hidden" value="@Model.MenuLink" id="txtmenulink" />
                                                        if (!string.IsNullOrWhiteSpace(Model.MenuLink) && System.IO.File.Exists(Server.MapPath(Model.MenuLink)))
                                                        {
                                                            <a target="_self" href="/Users/DownloadFilesFromPath?fileName=@Model.MenuLink" style="padding: 0 3px 0px 3px;height: 24px;" class="btn m-2 btn-sm btn-outline-success"><i class="icofont-download"></i></a>
                                                            <a id="btndeletemenulink" style="padding: 0 3px 0px 3px;height: 24px;" class="btn m-2 btn-sm btn-outline-danger"><i class="icofont-close"></i></a>
                                                        }
                                                    }
                                                </div>
                                                <div class="col-md-6">
                                                    @{
                                                        if (!string.IsNullOrWhiteSpace(Model.MenuLink) && System.IO.File.Exists(Server.MapPath(Model.MenuLink)))
                                                        {
                                                            <a id="txtMenuFilename" class="text-fileName">@System.IO.Path.GetFileName(Server.MapPath(Model.MenuLink))</a>
                                                        }
                                                    }
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                }
                                <div class="text-center"><button type="submit" class="share-btn"> <div class="lds-dual-ring"></div>&nbsp;Update Personal Details</button></div>
                            }
                        </div>

                    </div>

                </div>
            </section><!-- End Personal detail Section -->
            <!-- ======= About Section ======= -->
            <!-- ======= Contact Section ======= -->
            <section id="contact" class="contact">
                <div class="container">

                    <div class="section-title">
                        <h2>Contact</h2>
                        <p>
                            This section involves entering your contact information - address, mobile number, and email id. Once this is done, you need to click the 'update contact' box.
                        </p>
                    </div>

                    <div class="row">

                        <div class="col-lg-12 mt-5 mt-lg-0 d-flex align-items-stretch">
                            @using (Html.BeginForm("ContactInfo", "Users", FormMethod.Post, new { id = "ContactInfoUserForm", @class = "php-email-form" }))
                            {
                                @Html.HiddenFor(t => t.UserId)
                                <input type="hidden" value="temppassword" name="Password" />
                                @Html.HiddenFor(t => t.EmailId)
                                <div class="form-row">
                                    <div class="form-group col-md-12">
                                        <label for="name"><span style="color:red;">*</span>Email</label>
                                        @Html.TextBoxFor(t => t.PersonalEmail, new { @class = "form-control", @placeholder = "Personal Email" })
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group col-md-4">
                                        <label for="name"><span style="color:red;">*</span>Phone</label>
                                        @Html.HiddenFor(x => x.CountryId)
                                        @Html.DropDownList("ddlCountryId", countries, "Select Country Code", new { @class = "form-control", @id = "ddlCountryId" })
                                    </div>
                                    <div class="form-group col-md-8">
                                        <label for="name">&nbsp; </label>
                                        @Html.TextBoxFor(t => t.Phone, new { @class = "form-control digitonly", @placeholder = "Phone" })
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group col-md-4">
                                        <label for="name">WhatsApp</label>
                                        @Html.HiddenFor(x => x.WhatsAppCountryId)
                                        @Html.DropDownList("ddlWhatsAppCountryId", WhatsAppCountries, "Select Country Code", new { @class = "form-control", @id = "ddlWhatsAppCountryId" })
                                    </div>
                                    <div class="form-group col-md-8">
                                        <label for="name">&nbsp; </label>
                                        @Html.TextBoxFor(t => t.Whatsapp, new { @class = "form-control digitonly", @placeholder = "WhatsApp" })
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group col-md-4">
                                        @Html.HiddenFor(x => x.WorkPhoneCountryId)
                                        <label for="name">Work Phone</label>
                                        @Html.DropDownList("ddlWorkPhoneCountryId", WorkPhoneCountries, "Select Country Code", new { @class = "form-control", @id = "ddlWorkPhoneCountryId" })
                                    </div>
                                    <div class="form-group col-md-8">
                                        <label for="name">&nbsp; </label>
                                        @Html.TextBoxFor(t => t.WorkPhone, new { @class = "form-control digitonly", @placeholder = "Work Phone" })
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group col-md-4">
                                        @Html.HiddenFor(x => x.OtherPhoneCountryId)
                                        <label for="name">Work WhatsApp</label>
                                        @Html.DropDownList("ddlOtherPhoneCountryId", OtherPhoneCountries, "Select Country Code", new { @class = "form-control", @id = "ddlOtherPhoneCountryId" })
                                    </div>
                                    <div class="form-group col-md-8">
                                        <label for="name">&nbsp; </label>
                                        @Html.TextBoxFor(t => t.OtherPhone, new { @class = "form-control digitonly", @placeholder = "Work WhatsApp" })
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <label for="name">Address 1</label>
                                        @Html.TextBoxFor(t => t.Address1, new { @class = "form-control", @placeholder = "Address 1" })
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label for="name">Address 2</label>
                                        @Html.TextBoxFor(t => t.Address2, new { @class = "form-control", @placeholder = "Address 2" })
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <label for="name">City</label>
                                        @Html.TextBoxFor(t => t.City, new { @class = "form-control", @placeholder = "City" })
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label for="name">State</label>
                                        @Html.TextBoxFor(t => t.StateName, new { @class = "form-control", @placeholder = "State" })
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <label for="name">Country</label>
                                        @Html.TextBoxFor(t => t.Country, new { @class = "form-control", @placeholder = "Country" })
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label for="name">Zip</label>
                                        @Html.TextBoxFor(t => t.Zip, new { @class = "form-control", @placeholder = "Zip" })
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <label for="name">Office Address 1</label>
                                        @*@Html.TextBoxFor(t => t.OfficeAddress1, new { @class = "form-control", @placeholder = "Office Address 1" })*@
                                        <input type="text"
                                               name="OfficeAddress1"
                                               value="@Model.OfficeAddress1"
                                               class="form-control"
                                               placeholder=""
                                               @(disableCompanyManagedSections ? "readonly='true'" : "") />
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label for="name">Office Address 2</label>
                                        @*@Html.TextBoxFor(t => t.OfficeAddress2, new { @class = "form-control", @placeholder = "Office Address 2" })*@
                                        <input type="text"
                                               name="OfficeAddress2"
                                               value="@Model.OfficeAddress2"
                                               class="form-control"
                                               placeholder=""
                                               @(disableCompanyManagedSections ? "readonly='true'" : "") />
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <label for="name">Office City</label>
                                        @*@Html.TextBoxFor(t => t.OfficeCity, new { @class = "form-control", @placeholder = "Office City" })*@
                                        <input type="text"
                                               name="OfficeCity"
                                               value="@Model.OfficeCity"
                                               class="form-control"
                                               placeholder=""
                                               @(disableCompanyManagedSections ? "readonly='true'" : "") />

                                    </div>
                                    <div class="form-group col-md-6">
                                        <label for="name">Office State</label>
                                        @*@Html.TextBoxFor(t => t.OfficeStatename, new { @class = "form-control", @placeholder = "Office State" })*@
                                        <input type="text"
                                               name="OfficeStatename"
                                               value="@Model.OfficeStatename"
                                               class="form-control"
                                               placeholder=""
                                               @(disableCompanyManagedSections ? "readonly='true'" : "") />
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <label for="name">Office Country</label>
                                        @*@Html.TextBoxFor(t => t.OfficeCountry, new { @class = "form-control", @placeholder = "Office Country" })*@
                                        <input type="text"
                                               name="OfficeCountry"
                                               value="@Model.OfficeCountry"
                                               class="form-control"
                                               placeholder=""
                                               @(disableCompanyManagedSections ? "readonly='true'" : "") />
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label for="name">Office Zip</label>
                                        @*@Html.TextBoxFor(t => t.OfficeZip, new { @class = "form-control", @placeholder = "Office Zip" })*@
                                        <input type="text"
                                               name="OfficeZip"
                                               value="@Model.OfficeZip"
                                               class="form-control"
                                               placeholder=""
                                               @(disableCompanyManagedSections ? "readonly='true'" : "") />
                                    </div>
                                </div>
                                <div class="text-center"><button type="submit" class="share-btn"><div class="lds-dual-ring"></div>&nbsp;Update Contact Details</button></div>
                            }
                        </div>

                    </div>

                </div>
            </section><!-- End Contact Section -->
            <!-- ======= Social Section ======= -->
            <section id="social" class="resume">
                <div class="container">

                    <div class="section-title">
                        <h2>Social Media</h2>
                        <p>
                            Here, you can enter your profile links of various social media platforms that you are active on. These include LinkedIn, Facebook, Twitter, Instagram, and Google Review.<span style="color:red;"> If you find any section irrelevant or not applicable to you, there is the hide option which you can use.</span>
                        </p>
                    </div>

                    <div class="mycard">
                        <div class="row">
                            <div class="col-lg-12 mt-lg-0 align-items-stretch">

                                @using (Html.BeginForm("SocialInfo", "Users", FormMethod.Post, new { id = "SocialInfoUserForm", @class = "php-email-form" }))
                                {
                                    if (!disableCompanyManagedSections)
                                    {
                                        <div class="form-row col-md-12 text-right">
                                            <div class="col-md-9"></div>
                                            <div class="col-md-3">
                                                <label for="name" style="color:red;">Hide Social </label>
                                                @Html.CheckBoxFor(x => x.ShowSocial, new { @id = "checkshowsocial", @class = "showhidesection" })
                                            </div>
                                        </div>
                                    }


                                    <div class="form-row">
                                        <div class="form-group col-md-6">
                                            <label for="name">Facebook</label>
                                            <input type="text" name="Facebook" value="@Facebook" disabled="@disableCompanyManagedSections" autocomplete="off" class="form-control" id="Facebook" />
                                        </div>
                                        <div class="form-group col-md-6">
                                            <label for="name">Instagram</label>
                                            <input type="text" name="Instagram" value="@Instagram" disabled="@disableCompanyManagedSections" autocomplete="off" class="form-control" id="Instagram" />
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group col-md-6">
                                            <label for="name">LinkedIn</label>
                                            <input type="text" name="LinkedIn" value="@linkedIn" disabled="@disableCompanyManagedSections" autocomplete="off" class="form-control" id="LinkedIn" />
                                        </div>
                                        <div class="form-group col-md-6">
                                            <label for="name">Twitter</label>
                                            <input type="text" name="Twitter" value="@Twitter" disabled="@disableCompanyManagedSections" autocomplete="off" class="form-control" id="Twitter" />
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group col-md-6">
                                            <label for="name">Google Review</label>
                                            <input type="text" name="Skype" value="@Skype" disabled="@disableCompanyManagedSections" autocomplete="off" class="form-control" id="Skype" />
                                        </div>
                                        <div class="form-group col-md-6">
                                            <label for="name">YouTube</label>
                                            <input type="text" name="Youtube1" value="@Youtube" disabled="@disableCompanyManagedSections" autocomplete="off" class="form-control" id="Youtube1" />
                                        </div>
                                    </div>

                                    <div class="form-row">
                                        <div class="form-group col-md-6">
                                            <label for="name">Teams</label>
                                            <input type="text" name="Teams" value="@Teams" disabled="@disableCompanyManagedSections" autocomplete="off" class="form-control" id="Teams" />
                                        </div>
                                        <div class="form-group col-md-6">
                                            <label for="name">Snapchat</label>
                                            <input type="text" name="Snapchat" value="@Snapchat" disabled="@disableCompanyManagedSections" autocomplete="off" class="form-control" id="Snapchat" />
                                        </div>
                                    </div>

                                    <div class="form-row">
                                        <div class="form-group col-md-6">
                                            <label for="name">Swiggy</label>
                                            <input type="text" name="Swiggy" value="@Swiggy" disabled="@disableCompanyManagedSections" autocomplete="off" class="form-control" id="Swiggy" />
                                        </div>
                                        <div class="form-group col-md-6">
                                            <label for="name">Zomato</label>
                                            <input type="text" name="Zomato" value="@Zomato" disabled="@disableCompanyManagedSections" autocomplete="off" class="form-control" id="Zomato" />
                                        </div>
                                    </div>
                                    if (!disableCompanyManagedSections)
                                    {
                                        <div class="text-center"><button id="btnSocialLink" class="btn-submit-padding share-btn" type="submit"><div class="lds-dual-ring"></div>&nbsp;Update Social Media</button></div>
                                    }
                                }
                            </div>

                        </div>
                    </div>
                </div>
            </section><!-- ======= End Social Section ======= -->
            <!-- ======= About Section ======= -->
            <section id="about" class="contact">
                <div class="container">

                    <div class="section-title">
                        <h2>About</h2>
                        <p>
                            In this section, you need to enter details about yourself and your professional work. You can also add the skills that you specialize in along with the knowledge percentage. Once you have completed it, you need to click the 'Update About' box.<span style="color:red;"> If you find any section irrelevant or not applicable to you, there is the hide option which you can use.</span>
                        </p>
                    </div>

                    <div class="row">
                        @*data-aos="fade-in"  -on full screen editor invisble*@


                        <div class="col-lg-12 mt-lg-0 d-flex align-items-stretch">
                            @using (Html.BeginForm("AboutInfo", "Users", FormMethod.Post, new { id = "AboutInfoUserForm", @class = "php-email-form" }))
                            {
                                @Html.HiddenFor(t => t.UserId)
                                @Html.HiddenFor(t => t.UrlCode)
                                <input type="hidden" value="temppassword" name="Password" />
                                @Html.HiddenFor(t => t.EmailId)

                                <div class="form-group">
                                    <div class="form-row">
                                        @if (!disableCompanyManagedSections)
                                        {
                                            <div class="form-row col-md-12 text-right">
                                                <div class="col-md-9">
                                                </div>
                                                <div class="col-md-3">
                                                    <label for="ShowAbout" style="color:red;">Hide About </label>
                                                    @Html.CheckBoxFor(x => x.ShowAbout, new { @id = "checkshowabout", @class = "showhidesection" })
                                                </div>
                                            </div>
                                        }
                                    </div>
                                    @Html.TextAreaFor(t => t.AboutDescription, new { @class = "form-control", @placeholder = "", @id = "AboutDescription", @rows = "10" })
                                </div>
                                <div class="form-row col-md-12">
                                    <hr style="width:100%;" />
                                </div>
                                if (!disableCompanyManagedSections)
                                {
                                    <div class="form-row col-md-12 text-right">
                                        <div class="col-md-9" style="text-align:left;">
                                            <span style="color:red;"> If you find any section irrelevant or not applicable to you, there is the hide option which you can use.</span>
                                        </div>
                                        <div class="col-md-3">
                                            <label for="ShowSkill" style="color:red;">Hide Skill</label>
                                            @Html.CheckBoxFor(x => x.ShowSkill, new { @id = "checkshowskill", @class = "showhidesection" })
                                        </div>
                                    </div>
                                }
                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <label for="SkillName1">Services / Skills / Specializations / Products</label>
                                        @*@Html.TextBoxFor(t => t.SkillName1, new {  @class = "form-control", @placeholder = "" })*@
                                        <input type="text"
                                               name="SkillName1"
                                               value="@Model.SkillName1"
                                               class="form-control"
                                               placeholder=""
                                               @(disableCompanyManagedSections ? "disabled='disabled'" : "") />

                                        <input type="hidden" name="KnowledgePercent1" id="KnowledgePercent1" value="97" />
                                        @*@Html.TextBoxFor(t => t.KnowledgePercent1, new { @class = "form-control",@value="97", @placeholder = "" })*@
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label for="SkillName2">Services / Skills / Specializations / Products</label>
                                        @*@Html.TextBoxFor(t => t.SkillName2, new {  @class = "form-control", @placeholder = "" })*@
                                        <input type="text"
                                               name="SkillName2"
                                               value="@Model.SkillName2"
                                               class="form-control"
                                               placeholder=""
                                               @(disableCompanyManagedSections ? "disabled='disabled'" : "") />
                                        <input type="hidden" name="KnowledgePercent2" id="KnowledgePercent2" value="95" />
                                        @*@Html.TextBoxFor(t => t.KnowledgePercent2, new { @class = "form-control", @value = "95", @placeholder = "" })*@
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <label for="SkillName3">Services / Skills / Specializations / Products</label>
                                        <input type="text"
                                               name="SkillName3"
                                               value="@Model.SkillName3"
                                               class="form-control"
                                               placeholder=""
                                               @(disableCompanyManagedSections ? "disabled='disabled'" : "") />
                                        @*@Html.TextBoxFor(t => t.SkillName3, new {@class = "form-control", @placeholder = "" })*@
                                        <input type="hidden" name="KnowledgePercent3" id="KnowledgePercent3" value="93" />
                                        @*@Html.TextBoxFor(t => t.KnowledgePercent3, new { @class = "form-control", @value = "92", @placeholder = "" })*@
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label for="SkillName4">Services / Skills / Specializations / Products</label>
                                        <input type="text"
                                               name="SkillName4"
                                               value="@Model.SkillName4"
                                               class="form-control"
                                               placeholder=""
                                               @(disableCompanyManagedSections ? "disabled='disabled'" : "") />
                                        @*@Html.TextBoxFor(t => t.SkillName4, new {  @class = "form-control", @placeholder = "" })*@
                                        <input type="hidden" name="KnowledgePercent4" id="KnowledgePercent4" value="91" />
                                        @*@Html.TextBoxFor(t => t.KnowledgePercent4, new { @class = "form-control", @value = "98", @placeholder = "" })*@
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <label for="SkillName5">Services / Skills / Specializations / Products</label>
                                        <input type="text"
                                               name="SkillName5"
                                               value="@Model.SkillName5"
                                               class="form-control"
                                               placeholder=""
                                               @(disableCompanyManagedSections ? "disabled='disabled'" : "") />
                                        @*@Html.TextBoxFor(t => t.SkillName5, new {  @class = "form-control", @placeholder = "" })*@
                                        <input type="hidden" name="KnowledgePercent5" id="KnowledgePercent5" value="97" />
                                        @*@Html.TextBoxFor(t => t.KnowledgePercent5, new { @class = "form-control", @value = "94", @placeholder = "" })*@
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label for="SkillName6">Services / Skills / Specializations / Products</label>
                                        <input type="text"
                                               name="SkillName6"
                                               value="@Model.SkillName6"
                                               class="form-control"
                                               placeholder=""
                                               @(disableCompanyManagedSections ? "disabled='disabled'" : "") />
                                        @*@Html.TextBoxFor(t => t.SkillName6, new { @class = "form-control", @placeholder = "" })*@
                                        <input type="hidden" name="KnowledgePercent6" id="KnowledgePercent6" value="95" />
                                        @*@Html.TextBoxFor(t => t.KnowledgePercent6, new { @class = "form-control", @value = "96", @placeholder = "" })*@
                                    </div>
                                </div>
                                if (!disableCompanyManagedSections)
                                {
                                    <div class="text-center"><button type="submit" class="share-btn"><div class="lds-dual-ring"></div>&nbsp;Update About Details</button></div>
                                }
                            }
                        </div>

                    </div>

                </div>
            </section><!-- End about Section -->

            <section id="about" class="resume">
                <div class="container">
                    <div class="section-title">
                        <h2>Cover Image</h2>
                    </div>
                    <div class="mycard">
                        <div class="row ">
                            <div class="col-lg-12">
                                @using (Html.BeginForm("UpsertUserProfileAndCoverImages", "Users", FormMethod.Post, new { id = "coverImage1Form", @class = "php-email-form" }))
                                {
                                    @Html.HiddenFor(x => x.ProfileImage)
                                    @Html.HiddenFor(x => x.CoverImage)
                                    @Html.HiddenFor(x => x.UserId)<div class="form-row">
                                        <div class="form-group col-md-6 d-flex flex-column">
                                            @if (!disableCompanyManagedSections)
                                            {
                                                <label for="coverImage">Cover Image</label>
                                                <input type="file" name="coverImageFile" id="coverImageFile" class="mx-3 my-2" accept=".jpg, .png, .jpeg" onchange="onSelectCoverImageFile(this)" />
                                            }
                                            <div class="coverImageSelectLoader" style="display: none;">
                                                <div class="lds-dual-ring-blue coverImageSelectLoader"></div> <span class="coverImageSelectLoader" style="color:red;">&nbsp;loading, please wait..........</span>
                                            </div>
                                            <div class="error" id="coverImageSelectionError"></div>
                                        </div>
                                        @{


                                            if (coverImgSrc.NullToString() != "")
                                            {
                                                <div class="form-row justify-content-end mb-2">
                                                    <div class="col-md-6">
                                                        <div class="border-r-1 position-relative selected-cover-img-container">

                                                            <img src="@coverImgSrc" alt="Nature landscape" class="img-fluid rounded shadow">

                                                            @if (!disableCompanyManagedSections)
                                                            {
                                                                <div class="icon-overlay d-flex flex-column align-items-center justify-content-center">
                                                                    <a id="btnRemoveCoverImg" data-path="@Model.CoverImage" data-userid="@Model.UserId" class="btn btn-light mb-2" data-bs-toggle="tooltip" data-bs-placement="left" title="Delete">
                                                                        <i class="bi bi-trash text-danger"></i>
                                                                    </a>
                                                                    <a id="btnOpenCoverImagePropertyModal" class="btn btn-light" data-bs-toggle="tooltip" data-bs-placement="left" title="Best Fit">
                                                                        <i class="bi bi-arrows-fullscreen text-primary"></i>
                                                                    </a>
                                                                </div>
                                                            }
                                                        </div>
                                                    </div>
                                                </div>
                                            }


                                        }
                                    </div>@*<div class="form-row">
                                    <div class="col-md-12">
                                        <div class="text-center"><button type="submit" class="btn-submit-padding"> <div class="lds-dual-ring"></div>&nbsp;Upload Cover Image</button></div>
                                    </div>
                                </div>*@

                                    if (!disableCompanyManagedSections)
                                    {
                                        <div class="form-row col-md-12">
                                            <hr style="width:100%;" />
                                            <h4>Suggested Images</h4>
                                        </div>
                                    }
                                    <div class="row">
                                        <div class="col-lg-12">
                                            @if (!disableCompanyManagedSections)
                                            {
                                                <div class="row overflow-auto" id="suggestedCoverImgContainer" style="height: 350px;">

                                                </div>
                                            }
                                            <div class="row justify-content-center p-2">
                                                <input type="hidden" id="hdnBusinessType" value="@Model.CompanyType" />
                                                <input type="hidden" id="coverImgPageNo" value="1" />
                                                @if (!disableCompanyManagedSections)
                                                {
                                                    <button class="btn share-btn mt-2 btn-load-more" id="btnLoadMoreCoverImg"><div class="lds-dual-ring"></div>&nbsp; Load more</button>
                                                }
                                            </div>
                                        </div>
                                    </div>

                                }
                            </div>
                        </div>
                    </div>

                </div>
            </section>


            <section id="portfolioGallery" class="resume">
                <div class="container">

                    <div class="section-title">
                        <h2>Image Gallery</h2>
                        <p>
                            You can select an image (JPEG or PNG file) from your device and upload it. You can upload images to your portfolio, allowing users to view your work seamlessly.<span style="color:red;"> If you find any section irrelevant or not applicable to you, there is the hide option which you can use.</span>
                        </p>
                    </div>
                    <div class="mycard">
                        <div class="row">
                            @if (!disableCompanyManagedSections)
                            {
                                <div class="col-lg-12 mt-lg-0 d-flex align-items-stretch">
                                    <div class="form-row col-md-12 text-right">
                                        <div class="col-md-9">

                                        </div>
                                        <div class="col-md-3">
                                            <label for="name" style="color:red;">Hide Gallery </label>
                                            @Html.CheckBoxFor(x => x.HideGallery, new { @id = "checkshowgallery", @class = "showhidesection" })
                                        </div>
                                    </div>
                                </div>
                            }
                            <div class="col-lg-12 mt-lg-0 d-flex align-items-stretch">
                                @using (Html.BeginForm("PortfolioImages", "Users", FormMethod.Post, new { id = "PortfolioImageForm", @class = "php-email-form", @enctype = "multipart/form-data" }))
                                {
                                    @Html.HiddenFor(t => t.UserId)
                                    <div class="form-row">
                                        <div class="form-group col-md-12">
                                            <div class="form-row">
                                                @if (!disableCompanyManagedSections)
                                                {

                                                    <div class="col-md-3">
                                                        <label for="name"><span style="color:red;">*</span>Select Image</label>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <input type="file" accept=".png,.jpg,.jpeg,.gif" multiple name="PortfolioImage" id="PortfolioImage" />
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="text-center">

                                                            <button type="submit" id="btnSubmitPortfolioForm" class="btn-load-more share-btn"><div class="lds-dual-ring"></div>&nbsp;Upload Images</button>
                                                        </div>
                                                    </div>
                                                }
                                            </div>
                                        </div>
                                    </div>

                                }
                            </div>
                            <div class="col-lg-12 d-flex align-items-stretch" id="portfolioImageContainer">
                            </div>
                        </div>
                    </div>
                </div>
            </section><!-- End Personal detail Section -->
            <!-- ======= Experience Section ======= -->
            <section id="experience" class="resume">
                <div class="container">
                    <div class="section-title">
                        <h2>Experience</h2>
                        <p>
                            You can enter the details of your past and existing work including the company name and designation as well.<span style="color:red;"> If you find any section irrelevant or not applicable to you, there is the hide option which you can use.</span>
                        </p>
                    </div>
                    <div class="mycard">
                        <div class="form-row col-md-12 text-right">
                            <div class="col-md-9">
                            </div>
                            <div class="col-md-3">
                                <label for="ShowExperience" style="color:red;">Hide Experience </label>
                                @Html.CheckBoxFor(x => x.ShowExperience, new { @id = "checkshowexperience", @class = "showhidesection" })
                            </div>
                        </div>
                        @*<div class="row">
                        <div class="col-lg-6">
                            <br />
                        </div>
                    </div>*@
                        <div class="row">
                            <div class="col-lg-6" id="professionalFormContainer">

                            </div>
                            <div class="col-lg-6" id="prfessionalListContainer">
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- End experience Section -->
            <!-- ======= Education Section ======= -->
            <section id="education" class="resume">
                <div class="container">

                    <div class="section-title">
                        <h2>Education</h2>
                        <p>
                            Next step is to enter your educational qualifications - the degrees and certification courses you have completed. Once this is done, you need to click the 'Add education details' box.<span style="color:red;"> If you find any section irrelevant or not applicable to you, there is the hide option which you can use.</span>
                        </p>
                    </div>

                    <div class="mycard">

                        <div class="form-row col-md-12 text-right">
                            <div class="col-md-9">
                            </div>
                            <div class="col-md-3">
                                <label for="ShowEducation" style="color:red;">Hide Education </label>
                                @Html.CheckBoxFor(x => x.ShowEducation, new { @id = "checkshoweducation", @class = "showhidesection" })
                            </div>
                        </div>
                        @*<div class="row">
                        <div class="col-lg-6">
                            <br />
                        </div>
                    </div>*@
                        <div class="row">
                            <div class="col-lg-6" id="educationFormContainer">
                            </div>

                            <div class="col-lg-6" id="educationListContainer">
                            </div>


                        </div>
                    </div>
                </div>
            </section>
            <!-- End Education Section -->
            <!-- ======= Certification / Training  Section ======= -->
            <section id="userCertification" class="resume">
                <div class="container">

                    <div class="section-title">
                        <h2>Achievements (Certification / Training / Board Memberships / Awards)</h2>
                        @*<p>
                        Next step is to enter your Certification qualifications - the degrees and certification courses you have completed. Once this is done, you need to click the 'Add education details' box.<span style="color:red;">If you find any section irrelevant or not applicable to you, there is the hide option which you can use.</span>
                    </p>*@
                    </div>

                    <div class="mycard">

                        <div class="row">
                            <div class="col-lg-12 mt-lg-0 align-items-stretch">
                                <div class="form-row col-md-12 text-right">
                                    <div class="col-md-7">
                                    </div>
                                    <div class="col-md-5">
                                        <label for="HideCertification" style="color:red;">Hide Certification/Training</label>
                                        @Html.CheckBoxFor(x => x.HideCertification, new { @id = "checkshowCertification", @class = "showhidesection" })
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group col-lg-6" id="userCertificatonFormContainer">
                                    </div>

                                    <div class="form-group col-lg-6" id="userCertificationListContainer">
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </section>
            <!-- End Certification / Training Section -->
            <!-- ======= Client Testimonials  Section ======= -->
            <section id="Testimonial" class="resume">
                <div class="container">

                    <div class="section-title">
                        <h2>Testimonial</h2>
                        <p>
                            In this section, you can add Client Testimonial. You have the option to add their images as well.<span style="color:red;"> If you find any section irrelevant or not applicable to you, there is the hide option which you can use.</span>
                        </p>
                    </div>
                    <div class="mycard">
                        <div class="row">
                            @if (!disableCompanyManagedSections)
                            {
                                <div class="col-lg-12 mt-lg-0 d-flex align-items-stretch">
                                    <div class="form-row col-md-12 text-right">
                                        <div class="col-md-9">

                                        </div>
                                        <div class="col-md-3">
                                            <label for="name" style="color:red;">Hide Testimonial </label>
                                            @Html.CheckBoxFor(x => x.HideTestimonial, new { @id = "checkshowtestimonial", @class = "showhidesection" })
                                        </div>
                                    </div>
                                </div>

                                <div class="col-lg-12 mt-lg-0 d-flex align-items-stretch">
                                    @using (Html.BeginForm("UpsertClientTestimonial", "Users", FormMethod.Post, new { id = "ClientTestimonialForm", @class = "php-email-form w-100", @enctype = "multipart/form-data" }))
                                    {
                                        @Html.HiddenFor(t => t.UserId)
                                        <input type="hidden" name="Client_Id" id="Client_Id" value="" />
                                        <input type="hidden" name="PicOfClient" id="PicOfClient" value="" />
                                        <div class="form-row">
                                            <div class="form-group col-md-4">
                                                <label for="name"><span style="color:red;">*</span>Client Name</label>
                                                <input type="text" name="ClientName" class="form-control" id="ClientName" />
                                            </div>
                                            <div class="form-group col-md-4">
                                                <label for="name">Designation</label>
                                                <input type="text" class="form-control" name="Designation" id="Designation" />
                                            </div>
                                            <div class="form-group col-md-4">
                                                <label for="name">Company Name</label>
                                                <input type="text" class="form-control" name="CompanyName" id="CompanyName" />
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-12">
                                                <label for="name"><span style="color:red;">*</span>Testimonial</label>
                                                <textarea name="Testimonial" id="txtTestimonial" class="form-control" rows="3"></textarea>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-4">
                                                <label for="name"><span style="color:red;">*</span>Image</label>
                                                <input type="file" name="CLientImagePath" id="CLientImagePath" />
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group col-md-12">
                                                <div class="text-center">
                                                    <button type="button" id="btnClientTestimonialEditCancel" class="btn btn-secondary">Cancel</button>
                                                    <button type="submit" class="share-btn"><div class="lds-dual-ring"></div>&nbsp;<span id="btnSubmitTestimonialText">Add</span> Testimonial</button>

                                                </div>
                                            </div>
                                        </div>

                                    }
                                </div>

                            }
                            <div class="col-lg-12 mt-5 mt-lg-0 align-items-stretch" id="ClientTestimonialsContainer">
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- ======= End Client Testimonials  Section ======= -->
            <!-- ======= Team  Section ======= -->
            <section id="Team" class="resume">
                <div class="container">

                    <div class="section-title">
                        <h2>Team</h2>
                        <p>
                            In this section, you can add the names and designation of the team members who are a part of your team. You have the option to add their images as well.<span style="color:red;"> If you find any section irrelevant or not applicable to you, there is the hide option which you can use.</span>
                        </p>
                    </div>
                    <div class="mycard">
                        <div class="row">
                            <div class="col-lg-12 mt-lg-0 d-flex align-items-stretch">
                                <div class="form-row col-md-12 text-right">
                                    <div class="col-md-9">

                                    </div>
                                    <div class="col-md-3">
                                        <label for="name" style="color:red;">Hide Team </label>
                                        @Html.CheckBoxFor(x => x.HideTeam, new { @id = "checkshowteam", @class = "showhidesection" })
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-12 mt-lg-0 d-flex align-items-stretch">
                                @using (Html.BeginForm("InsertTeam", "Users", FormMethod.Post, new { id = "TeamImageForm", @class = "php-email-form", @enctype = "multipart/form-data" }))
                                {
                                    @Html.HiddenFor(t => t.UserId)

                                    <div class="form-row">
                                        <div class="form-group col-md-3">
                                            <label for="name"><span style="color:red;">*</span>Name</label>
                                            <input type="text" name="Name" class="form-control" id="Name" />
                                        </div>
                                        <div class="form-group col-md-3">
                                            <label for="name"><span style="color:red;">*</span>Designation</label>
                                            <input type="text" class="form-control" name="designation" id="designation" />
                                        </div>
                                        <div class="form-group col-md-4">
                                            <label for="name"><span style="color:red;">*</span>Image</label>
                                            <input type="file" name="TeamImagePath" id="TeamImagePath" />
                                        </div>
                                        <div class="form-group col-md-2">
                                            <label for="name">&nbsp;</label>
                                            <div class="text-center"><button type="submit" class="share-btn"><div class="lds-dual-ring"></div>&nbsp;Add Team member</button></div>
                                        </div>
                                    </div>

                                }
                            </div>
                            <div class="col-lg-12 mt-5 mt-lg-0 align-items-stretch" id="TeamImageContainer">
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- ======= End Team  Section ======= -->
            <!-- ======= Youtube Videos  Section ======= -->
            <section id="youtube" class="resume">
                <div class="container">

                    <div class="section-title">
                        <h2>Videos</h2>
                        @*<p>
                        Content here?
                    </p>*@
                    </div>

                    <div class="mycard">
                        @if (!disableCompanyManagedSections)
                        {
                            <div class="col-lg-12 mt-lg-0 d-flex align-items-stretch">
                                <div class="form-row col-md-12 text-right">
                                    <div class="col-md-9">

                                    </div>
                                    <div class="col-md-3">
                                        <label for="HideYouTube" style="color:red;">Hide Videos </label>
                                        @Html.CheckBoxFor(x => x.HideYouTube, new { @id = "checkshowyoutube", @class = "showhidesection" })
                                    </div>
                                </div>
                            </div>
                        }
                        <div class="row">
                            <div class="col-lg-6" id="youtubeFormContainer">

                            </div>
                            <div class="col-lg-6" id="youtubeListContainer">

                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- ======= End Youtube Videos  Section ======= -->
            @*<section id="ThemeSettings" class="resume">
            <div class="container">
                <div class="section-title">
                    <h2>Card Themes</h2>
                </div>

                <div class="mycard">

                    <div class="row">
                        <div class="col-lg-12" data-aos="fade-up" data-aos-delay="100">
                            @using (Html.BeginForm("UpsertUserCardThemeSetting", "CardTheme", FormMethod.Post, new { id = "uploadCardThemeBgImgForm", @class = "php-email-form" }))
                            {
                                @Html.Hidden("UserId", themeSettings.UserId)
                                @Html.Hidden("actionName", "BharatTouch/EditProfile/UpsertUserCardThemeSetting")
                                @Html.Hidden("TemplateId", themeSettings.TemplateId)
                                @Html.Hidden("BackgroundImg", themeSettings.BackgroundImg)
                                <div class="form-row">
                                    <div class="form-group col-md-12">
                                        <label for="CardBgImg">Card Background Image</label>
                                        <br />
                                        <div class="form-row">
                                            <div class="col-md-10">
                                                <input type="file" name="CardBgImg" id="CardBgImg" class="mx-3" accept=".jpg, .png, .jpeg" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="col-md-12 d-flex form-group justify-content-center">
                                        @{
                                            if (!string.IsNullOrWhiteSpace(themeSettings.BackgroundImg) && System.IO.File.Exists(Server.MapPath(themeSettings.BackgroundImg)))
                                            {
                                                <div class="col-12 col-md-6 col-lg-4 mb-3">
                                                    <div class="card hover-card-bottom h-100 border-r-1">
                                                        <img src="@themeSettings.BackgroundImg" class="card-img-top" alt="bg image">
                                                        <div class="card-overlay">
                                                            <a class="btn btn-danger" id="btnRemoveCardThemeBgImg"
                                                               data-userid="@themeSettings.UserId"
                                                               data-templateid="@themeSettings.TemplateId"
                                                               data-path="@themeSettings.BackgroundImg">
                                                                <div class="lds-dual-ring"></div>
                                                                &nbsp; Delete
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>
                                            }
                                        }
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="col-md-12">
                                        <div class="text-center"><button type="submit" class="btn-submit-padding"> <div class="lds-dual-ring"></div>&nbsp;Upload Card Background Image</button></div>
                                    </div>
                                </div>
                            }
                        </div>


                        <div class="form-row col-md-12" data-aos="fade-up" data-aos-delay="100">
                            <hr style="width:100%;" />
                            <h4>Choose Theme</h4>
                            <div class="form-row col-md-12 d-flex justify-content-end" style=" align-items: baseline;">
                                <label for="chkBusinessRelatedThemes" style="color:red;">Business related themes</label>
                                <input type="checkbox" name="chkBusinessRelatedThemes" id="chkBusinessRelatedThemes" class="ml-3 showhidesection" />
                            </div>
                        </div>


                        <div class="col-lg-12" data-aos="fade-up">
                            <input type="hidden" id="hdnCartTemplateListPage" value="1" />
                            <input type="hidden" id="hdnCartTemplateListPageSize" value="6" />
                            <input type="hidden" id="hdnCartTemplateListSortBy" value="TemplateId" />
                            <input type="hidden" id="hdnCartTemplateListSortOrder" value="ASC" />
                            <input type="hidden" id="hdnCartTemplateListSearchText" value="" />

                            <input type="hidden" id="hdnCartTemplateListTotalRows" value="" />

                            <input type="hidden" id="hdnSelectThemeBackgroundImg" value="@themeSettings.BackgroundImg" />
                            <input type="hidden" id="hdnSelectedThemeTemplateId" value="@themeSettings.TemplateId" />

                            <div id="cardThemeTemplateListContainer" class="row g-4 overflow-auto" style="height: 300px;">

                            </div>
                            <div class="row justify-content-center p-2">
                                <button class="btn btn-custom-primary mt-2 btn-load-more" id="btnLoadMoreCardTemplateTheme"><div class="lds-dual-ring"></div>&nbsp; Load more</button>
                            </div>
                        </div>
                    </div>

                </div>
        </section>*@

            @if (!disableCompanyManagedSections)
            {
                <!-- ======= Payment  Section ======= -->
                <section id="payment" class="resume">
                    <div class="container">
                        <div class="section-title">
                            <h2>Payment</h2>
                        </div>
                        <div class="mycard">
                            <div class="col-lg-12">
                                @using (Html.BeginForm("UploadPaymentDetails", "Users", FormMethod.Post, new { @id = "paymentQrForm", @class = "php-email-form" }))
                                {
                                    <input type="hidden" name="UserId" value="@upiDetail.UserId" />
                                    <input type="hidden" name="QrImage" value="@upiDetail.QrImage" />

                                    <div class="form-row">
                                        <div class="form-group col-md-6">
                                            <label for="UpiId">UPI ID</label>
                                            @Html.TextBox("UpiId", upiDetail.UpiId, new { @class = "form-control", @placeholder = "" })
                                        </div>
                                        <div class="form-group col-md-6">
                                            <label for="PayeeName">Payee Name</label>
                                            @Html.TextBox("PayeeName", upiDetail.PayeeName, new { @class = "form-control", @placeholder = "" })
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group col-md-6">
                                            <label for="paymentQr">Select QR Image</label>
                                            <br />
                                            <div class="form-row">
                                                <div class="col-md-12">
                                                    <input type="file" accept=".jpg, .jpeg, .png" name="paymentQr" id="paymentQr" onchange="onSelectPaymentFile(this);" />
                                                </div>

                                            </div>
                                        </div>
                                        <div class="form-group col-md-6">
                                            <div class="col-md-12">
                                                @{
                                                    if (qrImage != "")
                                                    {
                                                        <div class="form-row justify-content-end mb-2">
                                                            <div class="col-md-6">
                                                                <div class="border-r-1 hover-card-bottom" style="border: 1px solid #dd1a1ab8; height: 160px; width: 160px;">
                                                                    <img src="@qrImage" alt="Nature landscape" class="img-fluid rounded shadow" style="height: 160px; width: 160px;">
                                                                    <div class="card-overlay">
                                                                        <a class="btn btn-danger" id="btndeletePaymentQr"
                                                                           data-path="@upiDetail.QrImage">
                                                                            <div class="lds-dual-ring"></div>
                                                                            &nbsp; Delete
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                    }
                                                }
                                            </div>
                                        </div>

                                    </div>
                                    <div class="form-row">
                                        <div class="form-group col-lg-12" style="text-align:center;">
                                            <span id="cropPaymentPrfLoader" class="lds-dual-ring-blue"></span>
                                            <div class="" id="cropPaymentImageContainer" style="display:none;">
                                                <img id="croppablePaymentImage" style="height:auto;" alt="Upload Payment QR Picture" />
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-12">
                                        <div class="text-center"><button type="submit" class="btn-submit-padding share-btn"> <div class="lds-dual-ring"></div>&nbsp;Upload Payment Details</button></div>
                                    </div>
                                }
                            </div>
                        </div>
                    </div>
                </section>
                <!-- ======= End Payment  Section ======= -->
            }


            <!-- ======= Blog  Section ======= -->
            <section id="blog" class="resume">
                <div class="container">

                    <div class="section-title">
                        <h2>Blog</h2>
                        @*<p>
                        Content here?
                    </p>*@
                    </div>

                    <div class="mycard">
                        @if (!disableCompanyManagedSections)
                        {
                            <div class="col-lg-12 mt-lg-0 d-flex align-items-stretch">
                                <div class="form-row col-md-12 text-right">
                                    <div class="col-md-9">

                                    </div>
                                    <div class="col-md-3">
                                        <label for="name" style="color:red;">Hide Blog </label>
                                        @Html.CheckBoxFor(x => x.HideBlog, new { @id = "checkshowblog", @class = "showhidesection" })
                                    </div>
                                </div>
                            </div>
                        }
                        <div class="row">

                            <div class="col-lg-6" id="blogFormContainer">

                            </div>
                            <div class="col-lg-6" id="blogListContainer">

                            </div>

                        </div>
                    </div>
                </div>
            </section>
            <!-- ======= End Blog  Section ======= -->

            @if (!disableCompanyManagedSections)
            {
                <!-- ======= Aadhaar Card  Section ======= -->

                <section id="AdhaarCard" class="resume adhaarSection" style="display: @(Model.CountryId == 5 ? "block" : "none");">
                    <div class="container">

                        <div class="section-title">
                            <h2>Aadhaar Card Images</h2>
                            <p>
                                You can select images from  (JPEG, JPG, PNG file) from your device and upload it for your aadhaar card.
                            </p>
                        </div>
                        <div class="mycard">
                            <div class="row">
                                <div class="col-lg-12 mt-lg-0 align-items-stretch">
                                    @using (Html.BeginForm("AdhaarUpdate", "Users", FormMethod.Post, new { id = "AdhaarImageForm", @class = "php-email-form", @enctype = "multipart/form-data" }))
                                    {
                                        @Html.HiddenFor(t => t.UserId)
                                        @Html.HiddenFor(t => t.AdhaarFrontImgPath)
                                        @Html.HiddenFor(t => t.AdhaarBackImgPath)
                                        <div class="form-row col-md-12 text-right">
                                            <div class="col-md-9"></div>
                                            <div class="col-md-3">
                                                <label for="name" style="color:red;">Hide Aadhaar Card</label>
                                                @Html.CheckBoxFor(x => x.HideAdhaar, new { @id = "checkshowAdhaar", @class = "showhidesection" })
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label for="name" style="color:red;">Note : Only (jpg, jpeg, png) files allowed.</label>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="form-row">
                                                    <div class="form-group col-md-6 d-flex flex-column">
                                                        <label for="frontImg">Aadhaar Front Image</label>
                                                        <input type="file" name="frontImg" id="frontImg" class="mx-3 my-2" accept=".jpg,.jpeg,.png" />
                                                    </div>
                                                    @{
                                                        if (isExistAdhaarFront)
                                                        {
                                                            <div class="form-row justify-content-end mb-2">
                                                                <div class="col-md-6">
                                                                    <div class="border-r-1 position-relative selected-cover-img-container">
                                                                        <img src="@Model.AdhaarFrontImgPath" alt="Aadhaar Front Image" class="img-fluid rounded shadow">
                                                                    </div>
                                                                    <div class="d-flex justify-content-center mt-2 gap-3">
                                                                        <a target="_self" href="/Users/DownloadFilesFromPath?fileName=@Model.AdhaarFrontImgPath" class="btn btn-light mb-2" data-bs-toggle="tooltip" data-bs-placement="left" title="Download">
                                                                            <i class="icofont-download text-success"></i>
                                                                        </a>
                                                                        <a id="btndeleteAdhaarFront" class="btn btn-light mb-2 mx-3" data-bs-toggle="tooltip" data-bs-placement="left" title="Delete">
                                                                            <i class="bi bi-trash text-danger"></i>
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        }
                                                    }

                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="form-row">
                                                    <div class="form-group col-md-6 d-flex flex-column">
                                                        <label for="BackImg">Aadhaar Back Image</label>
                                                        <input type="file" name="BackImg" id="BackImg" class="mx-3 my-2" accept=".jpg,.jpeg,.png" />
                                                    </div>
                                                    @{
                                                        if (isExistAdhaarBack)
                                                        {
                                                            <div class="form-row justify-content-end mb-2">
                                                                <div class="col-md-6">
                                                                    <div class="border-r-1 position-relative selected-cover-img-container">
                                                                        <img src="@Model.AdhaarBackImgPath" alt="Aadhaar Back Image" class="img-fluid rounded shadow">
                                                                    </div>
                                                                    <div class=" d-flex justify-content-center mt-2 gap-3">
                                                                        <a target="_self" href="/Users/DownloadFilesFromPath?fileName=@Model.AdhaarBackImgPath" class="btn btn-light mb-2" data-bs-toggle="tooltip" data-bs-placement="left" title="Download">
                                                                            <i class="icofont-download text-success"></i>
                                                                        </a>
                                                                        <a id="btndeleteAdhaarBack" class="btn btn-light mb-2 mx-3" data-bs-toggle="tooltip" data-bs-placement="left" title="Delete">
                                                                            <i class="bi bi-trash text-danger"></i>
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        }
                                                    }


                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                <div class="text-center"><button type="submit" class="btn-load-more share-btn"><div class="lds-dual-ring"></div>&nbsp;Upload</button></div>
                                            </div>
                                        </div>

                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <!-- ======= End Aadhaar Card  Section ======= -->
            }
            <!-- ======= Meetings Request  Section ======= -->
            <section id="meeting" class="resume">
                <div class="container">
                    <div class="section-title">
                        <h2>Meetings Request</h2>
                    </div>
                    <div class="mycard">
                        <div class="row">
                            <div class="col-lg-12 d-flex justify-content-end" style="gap:10px;">
                                @*<button type="button" id="btnSyncCalendarWithGoogle" class="btn btn-danger rounded-pill" style="display: @(googleAccessToken.NullToString() != "" ? "none" : "inline")" ><i class="bi bi-google"></i> Google Sync</button>*@
                                <a id="btnSyncCalendarWithOutlook"
                                   href="@outlookAuthUrl"
                                   class="btn share-btn rounded-pill"
                                   style="display: @(microsoftAccessToken.NullToString() != "" ? "none" : "inline")">
                                    <i class="fas fa-sync"></i> Outlook Sync
                                </a>
                            </div>
                            <div class="col-lg-12">
                                <div id="calendarSettings">
                                    <div class="row">
                                        <div class="col-lg-12 mt-5 mt-lg-0 d-flex align-items-stretch">
                                            <div class="form-row" id="dvOpenCalanderDaysChkContainer">
                                                <div class="form-group col-lg-12">
                                                    <h4>Schedule Open Week Days</h4>
                                                </div>
                                                <div class="form-group col-md-4">
                                                    @Html.CheckBox("Mon", OpenWeekDaysModel.Mon, new { @class = "form-check-control chkField" })
                                                    <label for="Mon">Monday</label>
                                                </div>
                                                <div class="form-group col-md-4">
                                                    @Html.CheckBox("Tue", OpenWeekDaysModel.Tue, new { @class = "form-check-control chkField" })
                                                    <label for="Tue">Tuesday</label>
                                                </div>
                                                <div class="form-group col-md-4">
                                                    @Html.CheckBox("Wed", OpenWeekDaysModel.Wed, new { @class = "form-check-control chkField" })
                                                    <label for="Wed">Wednesday</label>
                                                </div>
                                                <div class="form-group col-md-4">
                                                    @Html.CheckBox("Thu", OpenWeekDaysModel.Thu, new { @class = "form-check-control chkField" })
                                                    <label for="Thu">Thursday</label>
                                                </div>
                                                <div class="form-group col-md-4">
                                                    @Html.CheckBox("Fri", OpenWeekDaysModel.Fri, new { @class = "form-check-control chkField" })
                                                    <label for="Fri">Friday</label>
                                                </div>
                                                <div class="form-group col-md-4">
                                                    @Html.CheckBox("Sat", OpenWeekDaysModel.Sat, new { @class = "form-check-control chkField" })
                                                    <label for="Sat">Saturday</label>
                                                </div>
                                                <div class="form-group col-md-4">
                                                    @Html.CheckBox("Sun", OpenWeekDaysModel.Sun, new { @class = "form-check-control chkField" })
                                                    <label for="Sun">Sunday</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    @*<div class="form-row col-md-12">
                                    <hr style="width:100%;" />
                                </div>
                                <div class="row" style="height: 230px;">
                                    <div class="col-lg-12 col-md-6 mt-lg-0 d-flex align-items-stretch" style="overflow-y: auto; height: 100%;">
                                        @using (Html.BeginForm("UpsertScheduleOpenDay", "Users", FormMethod.Post, new { @id = "AddOpenScheduleDaysForm", @class = "w-100 php-email-form" }))
                                        {
                                            @Html.Hidden("UserId", userid);


                                            <div class="form-row">
                                                <div class="form-group col-lg-12">

                                                    <label id="lblClosedWeekDayNoteLabel" style="color: red; width: 100%; display: @(isAnyOpenWeekDay ? "none" : "inline");">Note: Please first open minimun 1 week day.</label>
                                                    <label id="lblOpenWeekDayNoteLabel" style="color:red; width: 100%; display: @(!isAnyOpenWeekDay ? "none" : "inline");">Note : You can select dates from only open week days of current month.</label>

                                                </div>
                                                <div class="form-group col-lg-12">
                                                    <label for="multipleOpenDays">Select Open Days</label>
                                                    <input name="multipleOpenDays" id="multipleOpenDays" @(isAnyOpenWeekDay ? "" : "disabled") class="form-control" style="background-color: white;" />
                                                </div>
                                            </div>
                                            <div class="text-center">
                                                <button type="submit" class="btn btn-primary btn-submit-padding" @(isAnyOpenWeekDay ? "" : "disabled")> <div class="lds-dual-ring"></div>&nbsp;Submit</button>
                                            </div>
                                        }
                                    </div>
                                </div>*@
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- ======= End Meetings Request  Section ======= -->
            <!-- ======= Profile Template  Section ======= -->

            <section id="profileTemplateSection" class="contact">
                <div class="container">

                    <div class="section-title">
                        <h2>Profile Template</h2>
                    </div>

                    <div class="row">
                        <div class="col-lg-12 mt-5 mt-lg-0 d-flex align-items-stretch" id="selectProfileTemplateContainer">
                            @Html.Partial("_selectProfileTemplate", Model)
                        </div>
                    </div>

                </div>
            </section>
            <!-- ======= End Profile Template  Section ======= -->
            <!-- ======= Contact Section ======= -->
            <!-- End Personal detail Section -->
            <!-- End Contact Section -->
            @*<section id="news" class="resume">
            <div class="container">
                <div class="section-title">
                    <h2>News</h2>
                </div>

                <div class="mycard">
                    <div class="row">
                        <div class="newsContainer" data-aos="fade-up" data-aos-delay="100">

                            <div class="swiper-container news-slider newsContainer">
                                <div id="newsSlidesWrapper" class="swiper-wrapper align-items-center" style="">

                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </section>*@

            @*@if (Model.CompanyType.NullToString() != "")
        {
            <section id="nearbyBusiness" class="resume">
                <div class="container">
                    <div class="section-title">
                        <h2>Nearby Business</h2>
                    </div>

                    <div class="mycard">
                        <div class="col-lg-12" data-aos="fade-up" data-aos-delay="100">
                            <div class="row" id="nearByCompanyListContainer" style="overflow-y: auto; height: 230px; padding-top: 10px;">
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        }*@


            @if (leadstotalRows > 0)
            {
                <section id="leads" class="resume">
                    <div class="container">
                        <div class="section-title">
                            <h2>Leads</h2>
                        </div>

                        <div class="row mycard">
                            <div class="col-lg-12" style="overflow-y: scroll; padding: 4px 0px 29px 7px;height:428px;">
                                <div id="leadsContainer">
                                    @Html.Partial("_userLeads", Model.UserId)
                                </div>

                            </div>
                        </div>
                    </div>
                </section>
            }

            <!-- Profile Analytics Section -->
            <section id="profileAnalytics" class="counts">
                <div class="container">
                    <div class="section-title">
                        <h2>Profile Analytics</h2>
                    </div>

                    <div class="row gy-4">

                        <div class="col-lg-3 col-md-6">
                            <div class="count-box">
                                <i class="bi bi-bar-chart"></i>
                                <div>
                                    <span data-purecounter-start="0" data-purecounter-end="@Model.PageViewed" data-purecounter-duration="1" class="purecounter"></span>
                                    <p>Profile Views</p>
                                </div>
                            </div>
                        </div>

                    </div>

                </div>
            </section>
            <!-- End Profile Analytics Section -->

            <section id="changePassword" class="contact">
                <div class="container">

                    <div class="section-title">
                        <h2>Change Password</h2>
                    </div>

                    <div class="row">

                        <div class="col-lg-12 mt-5 mt-lg-0 d-flex align-items-stretch">
                            @using (Html.BeginForm("ChangePassword", "Users", FormMethod.Post, new { id = "changePasswordForm", @class = "php-email-form" }))
                            {
                                @Html.HiddenFor(t => t.UserId)
                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <label for="name">New Password</label>
                                        @Html.TextBox("Password", "", new { @class = "form-control", @placeholder = "New Password", @type = "password" })
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label for="name">Confirm Password</label>
                                        @Html.TextBox("ConfirmPassword", "", new { @class = "form-control", @placeholder = "Confirm Password", @type = "password" })
                                    </div>
                                </div>
                                <div class="text-center"><button type="submit" class="share-btn"><div class="lds-dual-ring"></div>&nbsp;Update Password</button></div>
                            }
                        </div>

                    </div>

                </div>
            </section><!-- End Change Password Section -->

        </div>

    </section>
</main>
@section scripts{
    <script type="text/javascript">
        var user = new createUser();
        user.createUserUrl = "@Url.Action("Create", "Login")";
        user.getScheduleOpenDaysUrl = "@Url.Action("GetAllScheduleOpenDays", "Users")";
        user.bindCompanyTypeByParent = "@Url.Action("BindCompanyTypeByParent", "Users")";
        user.coverImgApiKey = "NaNKl2gDYykvLViDZ3AN9GGTupz51CZ3Ld1HsH1tytlsyaT1DlUqfDBe";
        user.newsApiKey = "e7dec1d6f417f9aee90254241b4f1582";
        // both below api keys are working
        //user.nearByCompanyApiKey = "4b8c0e2b48msh1913d20f28559b7p1c7a67jsn154a5b68e3f1";
        user.nearByCompanyApiKey = "ec02ca48c0mshc66b1c3fd5dc532p12f755jsn20ff6ab0530c";
        user.googleApiKey = "@ConfigValues.GoogleApiKey";
        user.googleAuthRedirectUri = "@ConfigValues.GoogleAuthRedirectUri";
        user.googleClientId = "@ConfigValues.GoogleApiClientId";
        user.pageUrl = "/edit/@UserUrlCode";
        user.WebUrl = "@ConfigValues.WebUrl";
        user.razorPayApiKey = "@ConfigValues.RazorPayApiKey";
        user.isTaxApplicable = "@ConfigValues.IsTaxApplicable";
        user.companyId = "@companyId";
        user.init();

        async function fetchImageAsBase64(imageUrl) {
            const response = await fetch(imageUrl);
            const blob = await response.blob();
            return new Promise((resolve) => {
                const reader = new FileReader();
                reader.onloadend = () => resolve(reader.result.split(',')[1]);
                reader.readAsDataURL(blob);
            });
        }
       async function addtocontactvcard() {
      // Static test data
          const firstName = "@Model.FirstName";
          const lastName = "@Model.LastName";
          const title = "@Model.Title";
          const phone = "@whatsappWithCountryCode";
          const email = "@Model.EmailId";
          const org = "@Model.Company";
          const street = "@Model.Address1";
          const city = "@Model.City";
          const state = "@Model.StateName";
          const postal = "@Model.Zip";
          const country = "@Model.Country";
          const url = "@profileUrl";

          // Static base64 image (1x1 pixel red dot PNG)
          const base64Photo = await fetchImageAsBase64("@Model.ProfileImage");
          const mimeType = "PNG";
          const phone_home = "@PhoneNumberWithCountryCode";

      // Build vCard content
      const vCard = `BEGIN:VCARD
VERSION:3.0
N:${lastName};${firstName};;;
FN:${firstName} ${lastName}
TITLE:${title}
ORG:${org}
TEL;TYPE=CELL,VOICE:${phone}
TEL;TYPE=HOME,VOICE:${phone_home}
EMAIL;TYPE=WORK:${email}
ADR;TYPE=WORK:;;${street};${city};${state};${postal};${country}
URL:${url}
PHOTO;ENCODING=b;TYPE=${mimeType}:${formatBase64(base64Photo)}
END:VCARD`;
      // Create downloadable file
      const blob = new Blob([vCard], { type: 'text/vcard;charset=utf-8' });
      const link = document.createElement('a');
      link.href = URL.createObjectURL(blob);
      link.download = "@fullname" + ".vcf";
      link.click();
    }

    function formatBase64(data) {
      return data.match(/.{1,75}/g).join('\r\n ');
    }

    </script>
}
