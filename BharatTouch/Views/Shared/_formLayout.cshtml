@using DataAccess
@{
    Layout = null;
    var WebUrl = System.Configuration.ConfigurationManager.AppSettings["WebUrl"].ToString();
    int loggedUserId = BharatTouch.CommonHelper.Utility.GetCookie("UserId_auth").ToIntOrZero();
    var loggedUsername = BharatTouch.CommonHelper.Utility.GetCookie("UserName_auth");

    var UserUrlCode = Url.RequestContext.RouteData.Values["code"].NullToString();//codeorname
    var CompanyUrlCode = Url.RequestContext.RouteData.Values["company"].NullToString();//codeorname

    if (CompanyUrlCode != null && CompanyUrlCode != "")
    {
        UserUrlCode = CompanyUrlCode + "/" + UserUrlCode;
    }

    var user = new DataAccess.Repository.UserRepository().GetUserByCodeOrName(UserUrlCode);

    string actionName = this.Html.Action().ToString();
    String profilePicturePath = "/Uploads/Profile/User_" + user.UserId.ToString() + ".png";
    var profileUrl = WebUrl + UserUrlCode;

    var userData = new DataAccess.Repository.UserRepository().GetProfileDetail(UserUrlCode, "BharatTouch/_formLayout.cshtml/_");

    bool isLoggedUser = loggedUserId == user.UserId;

    //bool isProfilePictureExist = System.IO.File.Exists(Server.MapPath("~" + profilePicturePath));
    bool isProfilePictureExist = userData.ProfileImage.NullToString() != "";

    var domain = Request.Url.Host;
    var webLinkHttps = "/SmartTheme/images/bharattouchfavico.ico";
    var webLinkHttp = "/SmartTheme/images/bharattouchfavico.ico";
    if (isProfilePictureExist)
    {
        webLinkHttps = userData.ProfileImage.NullToString();
        webLinkHttp = userData.ProfileImage.NullToString();
    }

    var fullName = userData.FirstName + " " + userData.LastName.NullToString();


    var isYoutubeListAvailable = new DataAccess.Repository.YouTubeRepository().GetAllYouTubes(userData.UserID).Count > 0;
    bool isExperienceAvailable = new DataAccess.Repository.ProfessionalRepository().GetAllUserProfessionals(userData.UserID).Count > 0;
    bool isEducationListAvailable = new DataAccess.Repository.EducationRepository().GetAllUserEducations(userData.UserID).Count > 0;
    DirectoryInfo d = new DirectoryInfo(Server.MapPath("~/uploads/Portfolio/" + userData.UserID));//Assuming Test is your Folder
    FileInfo[] Files = null;
    bool hasGalleryImages = false;
    try
    {
        Files = d.GetFiles("*"); //Getting Text files
        hasGalleryImages = Files != null && Files.Length > 0;
    }
    catch (Exception ex)
    {
        hasGalleryImages = false;
    }
    bool hasTeam = new DataAccess.Repository.UserRepository().GetTeam(userData.UserID).Count > 0;
    bool hasBlogs = new DataAccess.Repository.BlogRepository().GetAllBlogs(userData.UserID).Count > 0;

    var linkedIn = "";
    var Twitter = "";
    var Facebook = "";
    var Instagram = "";
    var Skype = "";
    var Youtube = "";
    var socialInfo = new DataAccess.Repository.SocialRepository().GetSocialInfo(userData.UserID);
    if (socialInfo.Count > 0)
    {
        if (socialInfo.FirstOrDefault(x => x.SocialMedia == "LinkedIn") != null)
        {
            linkedIn = socialInfo.FirstOrDefault(x => x.SocialMedia == "LinkedIn").Url.NullToString();
        }
        if (socialInfo.FirstOrDefault(x => x.SocialMedia == "Twitter") != null)
        {
            Twitter = socialInfo.FirstOrDefault(x => x.SocialMedia == "Twitter").Url.NullToString();
        }
        if (socialInfo.FirstOrDefault(x => x.SocialMedia == "Facebook") != null)
        {
            Facebook = socialInfo.FirstOrDefault(x => x.SocialMedia == "Facebook").Url.NullToString();
        }
        if (socialInfo.FirstOrDefault(x => x.SocialMedia == "Instagram") != null)
        {
            Instagram = socialInfo.FirstOrDefault(x => x.SocialMedia == "Instagram").Url.NullToString();
        }
        if (socialInfo.FirstOrDefault(x => x.SocialMedia == "Skype") != null)
        {
            Skype = socialInfo.FirstOrDefault(x => x.SocialMedia == "Skype").Url.NullToString();
        }
        if (socialInfo.FirstOrDefault(x => x.SocialMedia == "Youtube") != null)
        {
            Youtube = socialInfo.FirstOrDefault(x => x.SocialMedia == "Youtube").Url.NullToString();
        }
    }

    bool noAboutContent = userData.AboutDescription.NullToString() == "" &&
              (string.IsNullOrWhiteSpace(userData.PortfolioLink) || !System.IO.File.Exists(Server.MapPath(userData.PortfolioLink))) &&
              (string.IsNullOrWhiteSpace(userData.ResumeLink) || !System.IO.File.Exists(Server.MapPath(userData.ResumeLink))) &&
              (string.IsNullOrWhiteSpace(userData.ServicesLink) || !System.IO.File.Exists(Server.MapPath(userData.ServicesLink))) &&
              (string.IsNullOrWhiteSpace(userData.MenuLink) || !System.IO.File.Exists(Server.MapPath(userData.MenuLink))) &&
              string.IsNullOrWhiteSpace(userData.Phone) &&
              string.IsNullOrWhiteSpace(linkedIn) &&
              string.IsNullOrWhiteSpace(Twitter) &&
              string.IsNullOrWhiteSpace(Facebook) &&
              string.IsNullOrWhiteSpace(Instagram) &&
              string.IsNullOrWhiteSpace(Skype);

    var upiDetail = new DataAccess.Repository.UserRepository().GetUserUpiDetailByUserId(user.UserId, "BharatTouch/EditProfile");
    bool isPaymentQrAvailable = false;
    if (upiDetail != null)
    {
        isPaymentQrAvailable = System.IO.File.Exists(Server.MapPath("~" + upiDetail.QrImage));
    }
    else
    {
        upiDetail = new DataAccess.Models.UpiDetailsModel();
    }

    var OpenWeekDaysModel = new DataAccess.Repository.ScheduleAndMeetingRepository().GetScheduleOpenWeekDays(user.UserId, "BharatTouch/_formLayout.cshtml");
    if (OpenWeekDaysModel == null)
    {
        OpenWeekDaysModel = new DataAccess.Models.ScheduleOpenWeekDayModel();
    }
    bool isAnyOpenWeekDay = (OpenWeekDaysModel.Sun || OpenWeekDaysModel.Mon || OpenWeekDaysModel.Tue || OpenWeekDaysModel.Wed || OpenWeekDaysModel.Thu || OpenWeekDaysModel.Fri || OpenWeekDaysModel.Sat);
    string decodedDescriptionOG = "";
    string decodedDescriptionMeta = "";
    try
    {
        decodedDescriptionOG = HttpUtility.HtmlDecode(userData.AboutDescription);
        decodedDescriptionMeta = HttpUtility.HtmlDecode(userData.AboutDescription as string ?? "");
    }
    catch (Exception ex) { }

    int totalRows = 0;
    var testimonials = new DataAccess.Repository.CLientTestimonialRepository().GetClientTestimonialBy_UserId(userData.UserID, out totalRows, "BharatTouch/EditProfile/_clientTestimonial.cshtml");
    bool showTestimonial = totalRows > 0;

    int CertificationRows = 0;
    new DataAccess.Repository.CertificationRepository().GetUserCertificationBy_UserId(user.UserId, out CertificationRows, "BharatTouch/Profile/_userCertifications.cshtml");
    bool showCertifications = !user.HideCertification && CertificationRows > 0;


    var isAdhaarFrontImgExist = false;
    try
    {
        if (string.IsNullOrWhiteSpace(user.AdhaarFrontImgPath) == false)
        {
            isAdhaarFrontImgExist = System.IO.File.Exists(Server.MapPath("~" + user.AdhaarFrontImgPath));
        }
    }
    catch (Exception ex) { }

    var isAdhaarBackImgExist = false;
    try
    {
        if (string.IsNullOrWhiteSpace(user.AdhaarBackImgPath) == false)
        {
            isAdhaarBackImgExist = System.IO.File.Exists(Server.MapPath("~" + user.AdhaarBackImgPath));
        }
    }
    catch (Exception ex) { }
    bool hasAdhaarImage = !!(isAdhaarBackImgExist || isAdhaarFrontImgExist);

    bool isSkillsNotAvailable = user.SkillName1.NullToString() == "" &&
                            user.SkillName2.NullToString() == "" &&
                            user.SkillName3.NullToString() == "" &&
                            user.SkillName4.NullToString() == "" &&
                            user.SkillName5.NullToString() == "" &&
                            user.SkillName6.NullToString() == "";
    //var isPackageAvailable = ViewBag.package != null;
    //DataAccess.ViewModels.UserPackageViewModel package = new DataAccess.ViewModels.UserPackageViewModel();
    //if (isPackageAvailable)
    //{
    //    package = ViewBag.package;
    //}
    int leadstotalRows = 0;
    new DataAccess.Repository.UserRepository().FetchLeadsByUserId(user.UserId, 0, 2000, "CreatedOn", "DESC", "", out leadstotalRows, "BharatTouch/_formLayout");
}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>@ViewBag.Title - virtual digital business card</title>
    @*<meta content="@Html.Raw(ViewBag.AboutDescription)" name="description">*@
    <meta content="@decodedDescriptionMeta" name="description">
    <meta content="virtual, digital, business card, online business card, mini website, online presence, contact less business card" name="keywords">
    <link rel="canonical" href="@WebUrl@UserUrlCode" />

    <!-- Favicons -->
    @*<link href="~/FormAssets/img/favicon.png" rel="icon">*@
    @*<link href="~/FormAssets/img/apple-touch-icon.png" rel="apple-touch-icon">*@
    @*<link rel="icon" type="image/png" href="@webLinkHttps?v=@DateTime.Now.Ticks">*@
    <link rel="icon" href="@webLinkHttps?v=@DateTime.Now.ToString("yyyyMMddHHmmssf")" type="image/x-icon">

    <!-- Google Fonts -->
    @*<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">*@


    <!-- Vendor CSS Files -->
    @*<link href="~/HomeAssets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">*@
    <link href="~/FormAssets/vendor/icofont/icofont.min.css" rel="stylesheet">
    <link href="~/FormAssets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css" integrity="sha512-5Hs3dF2AEPkpNAR7UiOHba+lRSJNeM2ECkwxUIxC1Q/FLycGTbNapWXB4tP889k5T5Ju8fs4b1P5z/iB4nMfSQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.3/font/bootstrap-icons.min.css" integrity="sha512-dPXYcDub/aeb08c63jRq/k6GaKccl256JQy/AnOq7CAnEZ9FzSL9wSbcZkMp4R26vBsMLFYH4kQ67/bbV8XaCQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="~/Content/vendor/bootstrap-wizard/jquery.bootstrap.wizard.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/themify-icons@0.1.2/css/themify-icons.css" rel="stylesheet">

    <!-- =======================================================
    * Template Name: iPortfolio - v1.5.1
    * Template URL: https://bootstrapmade.com/iportfolio-bootstrap-portfolio-websites-template/
    * Author: BootstrapMade.com
    * License: https://bootstrapmade.com/license/
    ======================================================== -->

    @Styles.Render("~/Content/homeCss")
    @Scripts.Render("~/bundles/modernizr")
    @Styles.Render("~/bundles/formLayoutCss")
    <link href="/HomeAssets/css/testimonial.css" rel="stylesheet" />

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script defer src="https://www.googletagmanager.com/gtag/js?id=G-LLS0FWWJS8"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-LLS0FWWJS8');
    </script>

    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="@userData.FirstName @userData.LastName | @userData.CompanyType" />
    @*<meta property="og:description" content="@Html.Raw(ViewBag.AboutDescription)" />*@
    @*<meta property="og:description" content="@Html.Raw(decodedDescriptionOG)" />*@
    <meta property="og:description" content="@decodedDescriptionOG" />
    <meta property="og:url" content="@WebUrl@UserUrlCode" />
    <meta property="og:site_name" content="BharatTouch | virtual business card" />
    <meta property="article:modified_time" content="2020-06-25T16:05:08+00:00" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:label1" content="Est. reading time">
    <meta name="twitter:data1" content="1 minute">

    <meta property="og:image" content="@webLinkHttp" />
    <meta property="og:image:secure_url" content="@webLinkHttps" />
    <link rel="image_src" href="@webLinkHttps" />

    <style>
        :root {
            --bharattouch-theme-color: #ff6821;
        }

        .text-theme {
            color: var(--bharattouch-theme-color);
        }

        .refralcode {
            color: #6f7180;
        }

            .refralcode:hover {
                color: #149ddd !important;
            }

        .pointer {
            cursor: pointer;
        }

        .modal {
            z-index: 9999 !important;
        }

        .sharecircle a {
            background: #ffab00;
            color: #ffffff;
        }

        .sharecircle a {
            background: #ffab00;
            border-radius: 75px;
            display: inline-block;
            padding: 11px 15px 10px 10px;
            color: #fff;
        }

        .sharecircle svg {
            width: 31px;
        }

        svg:not(:root) {
            overflow: hidden;
        }

        .share-3 svg, .sharecircle svg, .share-inline svg {
            color: #000;
        }

        .share-icon-wrap {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.82);
            z-index: 9999;
            text-align: left;
            overflow-y: scroll;
        }

            .share-icon-wrap .share-options {
                font-size: 18px;
                position: relative;
                /*top: 8px;*/
            }

            .share-icon-wrap .close {
                color: #fff;
                position: absolute;
                right: 18px;
                top: 0px;
                padding: 8px;
                cursor: pointer;
                z-index: 51;
                opacity: 1;
                font-size: 32px;
            }

            .share-icon-wrap .close {
                color: #fff;
                position: absolute;
                right: 18px;
                top: 0px;
                padding: 8px;
                cursor: pointer;
                z-index: 51;
                opacity: 1;
                font-size: 32px;
            }

            .share-icon-wrap span.share-item {
                display: inline-block;
                width: 80%;
                margin: 16px 4%;
            }

            .share-icon-wrap a {
                color: #fff;
            }

        .shareico {
            font-size: 54px;
            width: 164px;
            justify-content: center;
            align-items: center;
            transition: all 0.3s ease-in-out;
            margin-right: 24px;
            cursor: pointer;
        }


        .imagesliders-slider img {
            object-fit: contain;
            width: 100%;
            height: 100%;
        }

        .myteam-item img {
            height: 400px;
        }

        .myyoutube-item {
            text-align: center;
        }

        .ck-editor__editable {
            min-height: 400px;
        }


        select.form-control.error > option {
            color: #495057 !important;
        }
    </style>

</head>

<body>


    <script>
        context: "http://schema.org",
            type: "Webpage",
                headline: "BharatTouch | virtual business card",
                    id: "https://bharattouch.com/@UserUrlCode",
                        thumbnailUrl: "",
                            dateCreated: "",
                                name: "BharatTouch ",
                                    description: "Forget the paper business cards, using Avi ecard enables you to actually use the received information. You can capture contacts in full compliance and with ease of mind. ",
                                        creator: [],
                                            keywords: [virtual, digital, business card, online business card, mini website, online presence, contact less business card]
    </script>

    <script>

        context: "http://schema.org",
            type: "Organization",
                name: "BharatTouch ",
                    url: "https://bharattouch.com/@UserUrlCode",
                        logo: "@webLinkHttps",
                            sameAs: ["https://www.facebook.com/", "https://twitter.com/",
                                https://www.youtube.com/
                                https://www.instagram.com/
                                https://www.linkedin.com/
                            ],
                                contactPoint: [{
                                    type: "ContactPoint",
                                    telephone: "+91 172 4600686",
                                    contactType: "customer service"
                                },

                                {
                                    type: "ContactPoint",
                                    telephone: "+91 172 4600686",
                                    contactType: "emergency"
                                }
                                ]

    </script>

    <style>
        .camera-icon-layout-pic {
            position: absolute; /* Position overlay over profile picture */
            top: 108px;
            right: 67px;
            background-color: rgb(0 0 0 / 79%); /* Semi-transparent black background */
            color: white; /* Icon color */
            width: 30px; /* Size of the overlay area */
            height: 30px; /* Size of the overlay area */
            border-radius: 50%; /* Make it circular */
            display: flex; /* Center the icon inside */
            justify-content: center;
            align-items: center;
            cursor: pointer; /* Indicate it's interactive (optional) */
        }

            .camera-icon-layout-pic i { /* Style the icon itself */
                font-size: 16px; /* Size of the camera icon */
                /* You can add more styles here if needed */
            }
    </style>

    <!-- ======= Mobile nav toggle button ======= -->
    <button type="button" class="mobile-nav-toggle d-xl-none"><i class="icofont-navigation-menu"></i></button>

    <!-- ======= Header ======= -->
    <header id="header">
        <div class="d-flex flex-column">

            <div class="profile" id="divprofile" style="text-align: center;">
                <div id="profilecontainer">


                    @if (actionName.ToLower() == "editprofile")
                    {
                        if (isProfilePictureExist)
                        {
                            <div>
                                <!-- Container Div remains the same -->
                                <img src="@webLinkHttps?v=@DateTime.Now.ToString("yyyyMMddHHmmssf")" style="height:120px;" alt="profile-picture" class="img-fluid rounded-circle">

                                <div class="camera-icon-layout-pic btnChangeImage">
                                    <i class="fa fa-camera"></i>
                                </div>

                            </div>
                        }
                        else
                        {
                            <div>
                                <!-- Container Div remains the same -->
                                <img src="/FormAssets/img/blank-profile-picture.jpg" alt="profile-picture" class="img-fluid rounded-circle">

                                <div class="camera-icon-layout-pic btnChangeImage">
                                    <i class="fa fa-camera"></i>
                                </div>

                            </div>
                        }

                        <button class="getstarted scrollto btn btn-sm btn-secondary btnChangeImage" style="display: none;" id="btnChangeImage">Change Image</button>
                    }
                    else
                    {
                        if (isProfilePictureExist)
                        {
                            <img src="@webLinkHttps?v=@DateTime.Now.ToString("yyyyMMddHHmmssf")" style="height:120px;" alt="profile-picture" class="img-fluid rounded-circle">
                        }
                        else
                        {
                            <img src="/FormAssets/img/blank-profile-picture.jpg" alt="blank-profile-picture" class="img-fluid rounded-circle">
                        }
                    }

                </div>

                <h1 class="text-light"><a href="#personal">@userData.FirstName @userData.LastName</a></h1>
                @*<p>
                        @if (!string.IsNullOrWhiteSpace(linkedIn))
                        {
                            <a href="@linkedIn" target="_blank" class="social-links"><i class="icofont-linkedin"></i></a>
                        }
                        @if (!string.IsNullOrWhiteSpace(Twitter))
                        {
                           <a href="@Twitter" target="_blank" class="social-links"><i class="icofont-twitter"></i></a>
                        }
                        @if (!string.IsNullOrWhiteSpace(Facebook))
                        {
                           <a href="@Facebook" target="_blank" class="social-links"><i class="icofont-facebook"></i></a>
                        }
                        @if (!string.IsNullOrWhiteSpace(Instagram))
                        {
                           <a href="@Instagram" target="_blank" class="social-links"><i class="icofont-instagram"></i></a>
                        }
                        @if (!string.IsNullOrWhiteSpace(Skype))
                        {
                           <a href="skype:@Skype?chat" target="_blank" class="social-links"><i class="icofont-skype"></i></a>
                        }
                        @if (!string.IsNullOrWhiteSpace(userData.Email))
                        {
                            <a href="mailto:@userData.Email" target="_blank" class="social-links"><i class="icofont-envelope"></i></a>
                        }
                        @if (!string.IsNullOrWhiteSpace(userData.Phone))
                        {
                            <a href="tel::@userData.Phone" target="_blank" class="social-links"><i class="icofont-phone"></i></a>
                        }

                    </p>*@
                @if (actionName.ToLower() != "editprofile" && loggedUserId > 0 && isLoggedUser)
                {
                    <a href="/edit/@UserUrlCode" style="font-size: 14px; font-weight: 800; text-decoration: underline; color: #ffab00; margin-top: 3px; ">Edit Profile</a>
                }
                else if (loggedUserId > 0 && actionName.ToLower() == "editprofile")
                {
                    <div class="d-flex flex-column">
                        <a href="/@UserUrlCode" style="font-size: 14px; font-weight: 800; text-decoration: underline; color: #ffab00; margin-top: 3px; ">View Profile</a>

                        <a class="badge badge-light badge-pill text-dark mt-3 pointer py-1" style="font-size: 14px; background-color: #1ca53b; " id="copyReferalCode" data-bs-toggle="tooltip" data-bs-placement="left" title="Referal Code">
                            <div>My Referral Code <i class="bi bi-copy text-light mx-1" style="font-size: 16px; " id="copyReferalIcon"></i></div>
                            <div class="text-white mt-2">@userData.ReferalCode</div>
                        </a>

                    </div>
                }

                @*@if (actionName.ToLower() != "editprofile")
                    {
                        <div class="sharecircle trigger-share-modal">
                            <a href="#">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><title></title><g class="nc-icon-wrapper"><path fill="currentColor" d="M38,15c3.9,0,7-3.1,7-7s-3.1-7-7-7s-7,3.1-7,7c0,0.9,0.2,1.8,0.5,2.6l-16,9.1C14.2,18.1,12.2,17,10,17 c-3.9,0-7,3.1-7,7s3.1,7,7,7c2.2,0,4.2-1.1,5.5-2.7l16,9.1C31.2,38.2,31,39.1,31,40c0,3.9,3.1,7,7,7s7-3.1,7-7s-3.1-7-7-7 c-2.2,0-4.2,1.1-5.5,2.7l-16-9.1c0.3-0.8,0.5-1.7,0.5-2.6s-0.2-1.8-0.5-2.6l16-9.1C33.8,13.9,35.8,15,38,15z"></path></g></svg>
                            </a>
                        </div>
                    }*@
            </div>

            <nav class="nav-menu">
                <ul>
                    @if (actionName.ToLower() != "editprofile")
                    {
                        <li class="active"><a href="#hero"><i class="bx bx-user"></i> <span>Personal</span></a></li>
                        <li class="@((userData.ShowAbout || noAboutContent) ? "d-none":"")"><a href="#about"><i class="bx bx-chalkboard"></i> <span>About</span></a></li>

                        if (userData.ShowSkill == false && !isSkillsNotAvailable)
                        {
                            <li><a href="#skills"><i class="bx bxs-brain"></i> Services / Skills</a></li>
                        }

                        if (userData.HideGallery == false && hasGalleryImages)
                        {
                            <li><a href="#portfolioGallery"><i class="bx bx-images"></i> Image Gallery</a></li>
                        }
                        if (userData.HideTestimonial == false && showTestimonial)
                        {
                            <li><a href="#testimonials"><i class="bx bxs-star"></i> Testimonial</a></li>
                        }
                        if (userData.ShowExperience == false && isExperienceAvailable)
                        {
                            <li><a href="#experience"><i class="bx bx-file-blank"></i> <span>Experience</span></a></li>
                        }
                        if (userData.ShowEducation == false && isEducationListAvailable)
                        {
                            <li><a href="#education"><i class="bx bx-book-content"></i> Education</a></li>
                        }
                        if (showCertifications)
                        {
                            <li><a href="#userCertification"><i class="bx bx-certification"></i> User Certification</a></li>
                        }
                        if (userData.HideTeam == false && hasTeam)
                        {
                            <li><a href="#Team"><i class="bx bxs-user-account"></i> Team</a></li>
                        }
                        if (userData.HideYouTube == false && isYoutubeListAvailable)
                        {
                            <li><a href="#youtube"><i class="bx bx-video"></i> Videos</a></li>
                        }


                        if (isPaymentQrAvailable)
                        {
                            <li><a href="#payment"><i class="bx bxs-barcode"></i> Payment QR</a></li>
                        }

                        @*if (userData.HideAdhaar == false && hasAdhaarImage)
            {
                <li><a href="#AdhaarCard"><i class="bx bx-card"></i> Adhaar Card</a></li>
            }*@
                        if (userData.HideBlog == false && hasBlogs)
                        {
                            <li><a href="#blog"><i class="bx bx-comment"></i> Blogs</a></li>
                        }
                        if (isAnyOpenWeekDay)
                        {
                            <li><a href="#meeting"><i class="bx bxs-report"></i> Meeting Request</a></li>
                        }
                        <li><a href="#contact"><i class="bx bx-envelope"></i> Contact</a></li>


                        if (isLoggedUser && leadstotalRows > 0)
                        {
                            <li><a href="#leads"><i class="bx bx-group"></i> Leads </a></li>
                        }

                        @*if (isLoggedUser && isAdmin)
            {
                <li><a href="/Users/index" target="_blank"><i class="bx bx-group"></i> User List </a></li>
            }*@
                    }
                    else
                    {
                        <li class="active"><a href="#personal"><i class="bx bx-user"></i> <span>Personal</span></a></li>

                        <li><a href="#contact"><i class="bx bx-envelope"></i> Contact</a></li>
                        <li><a href="#social"><i class="bx bx-badge"></i> Social Media</a></li>
                        <li><a href="#about"><i class="bx bx-chalkboard"></i> <span>About</span></a></li>
                        @*<li><a href="#ThemeSettings"><i class="bx bxs-barcode"></i> Theme Setting</a></li>*@
                        <li><a href="#portfolioGallery"><i class="bx bx-images"></i> Image Gallery</a></li>
                        <li><a href="#experience"><i class="bx bx-file-blank"></i> <span>Experience</span></a></li>
                        <li><a href="#education"><i class="bx bx-book-content"></i> Education</a></li>
                        <li><a href="#userCertification"><i class="bx bx-certification"></i> Certification/Training</a></li>
                        <li><a href="#Testimonial"><i class="bx bxs-star"></i> Client Testimonial</a></li>
                        <li><a href="#Team"><i class="bx bxs-user-account"></i> My Team</a></li>
                        <li><a href="#youtube"><i class="bx bx-video"></i> Videos</a></li>
                        <li><a href="#payment"><i class="bx bxs-barcode"></i> Payment QR</a></li>
                        <li><a href="#blog"><i class="bx bx-comment"> </i> Blogs</a></li>
                        <li class="adhaarSection" style="display: @(userData.CountryId == 5 ? "block": "none");"><a href="#AdhaarCard"><i class="bx bx-card"></i> Aadhaar Card</a></li>
                        @*<li><a href="#news"><i class="bx bx-comment"></i> News</a></li>*@

                        @*if (userData.CompanyType.NullToString() != "")
            {
                <li><a href="#nearbyBusiness"><i class="bx bx-comment"></i> NearBy Business</a></li>
            }*@

                        <li><a href="#meeting"><i class="bx bxs-report"></i> Meetings Request</a></li>
                        <li><a href="#profileTemplateSection"><i class="bx bx-layout"></i> Profile Template</a></li>

                        if (leadstotalRows > 0)
                        {
                            <li><a href="#leads"><i class="bx bx-group"></i> Leads </a></li>
                        }
                        <li><a href="#profileAnalytics"><i class="bx bx-bar-chart"></i> Profile Analytics</a></li>

                        <li><a href="#changePassword"><i class="bx bx-envelope"></i> Change Password</a></li>


                        @*if (isLoggedUser && isAdmin)
            {
                <li><a href="/Users/index" target="_blank"><i class="bx bx-group"></i> User List </a></li>
                <li><a href="/Users/PdfUsers" target="_blank"><i class="bx bx-group"></i> Pdf Users </a></li>
                <li><a href="/Users/FeatureNotification" target="_blank"><i class="bx bx-group"></i> Feature Notification </a></li>
                <li><a href="/CardTheme/index" target="_blank"><i class="bx bx-group"></i> Template List</a></li>
            }*@
                    }

                    @if (loggedUserId.ToIntOrZero() > 0)
                    {
                        <li><a href="@Url.Action("Logout", "Home")"><i class="bx bx-power-off"></i> Logout</a></li>
                    }
                </ul>
            </nav><!-- .nav-menu -->
            <button type="button" class="mobile-nav-toggle d-xl-none"><i class="icofont-navigation-menu"></i></button>

        </div>
    </header><!-- End Header -->
    @*<main id="main">*@

    @RenderBody()


    @*</main> End #main*@
    <!-- ======= Footer ======= -->


    <a href="#" class="back-to-top"><i class="icofont-simple-up"></i></a>
    @if (actionName.ToLower() != "editprofile")
    {
        <a href="javascript:void(0)" onclick="addtocontactvcard();" class="add-vcard-contact"><i class="bx bx-plus"></i></a>
        <a href="javascript:void(0)" class="share-bottom-icon btnShareIt"><i class="icofont-share"></i></a>
    }
    <div class="share-icon-wrap">
        <div class="share-options">
            <div class="close">x</div>
            <span class="share-item">
                <!-- \r\n -->
                <a target="_blank" class="wa_btn wa_btn_s" href="https://api.whatsapp.com/send?&text=@profileUrl">
                    @*<span class="fa fa-whatsapp"></span>*@
                    <i class="bi-whatsapp shareico"></i>
                    <span class="share-label">whatsapp</span>
                </a>
            </span>

            @*<span class="share-item">
                    <a href="sms:?body=@profileUrl" target="_blank"><span class="fa fa-commenting-o"></span><span class="share-label">SMS</span></a>
                </span>*@

            <span class="share-item">
                <a target="_blank" class="wa_btn wa_btn_s" href="mailto:?subject=@fullName&amp;body=@profileUrl">
                    <i class="icofont-envelope shareico"></i>
                    <span class="share-label">Email</span>
                </a>
            </span>

            <span class="share-item">
                <a target="popup" class="wa_btn wa_btn_s" href="https://www.facebook.com/sharer/sharer.php?u=@profileUrl&t=@fullName">
                    <i class="icofont-facebook shareico"></i>
                    <span class="share-label">Facebook</span>
                </a>
            </span>

            <span class="share-item">
                <a href="https://twitter.com/share?url=@profileUrl&via=TWITTER_HANDLE&text=@fullName" target="_blank">
                    <i class="icofont-twitter shareico"></i>
                    <span class="share-txt">Twitter</span>
                </a>
            </span>

            <span class="share-item">
                <a href="https://www.linkedin.com/shareArticle?mini=true&url=@profileUrl&title=@fullName" target="_blank">
                    <i class="icofont-linkedin shareico"></i>
                    <span class="share-txt">Linkedin</span>
                </a>
            </span>
            <div class="clearfix">&nbsp;</div>
        </div>
    </div>

    @if (ViewBag.IsNotCompanyUser != null && ViewBag.IsNotCompanyUser == true)
    {
        <a id="btnOrderNewCard" class="btn-buy-fixed" style="cursor: pointer; background: #ff5252 !important; color: white; border: 1px solid white;"><div class="lds-dual-ring"></div>&nbsp; Order new card</a>
    }


    @*<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.30.1/moment.min.js" integrity="sha512-hUhvpC5f8cgc04OZb55j0KNGh4eh7dLxd/dPSJ5VyzqDWxsayYbojWyl5Tkcgrmb/RVKCRJI1jNlRbVP4WWC4w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>*@
    @Scripts.Render("~/bundles/VendorJs")
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <script src="~/admin_theme/js/moment/moment-with-locales.js"></script>
    <script src="~/admin_theme/js/moment/moment.js"></script>
    <script src="~/Content/vendor/bootstrap-wizard/jquery.bootstrap.wizard.js"></script>
    <script src="~/HomeAssets/vendor/purecounter/purecounter.js"></script>
    <script defer src="https://www.google.com/recaptcha/api.js"></script>
    <script defer src="https://apis.google.com/js/api.js"></script>
    <script defer src="https://accounts.google.com/gsi/client"></script>
    @Scripts.Render("~/bundles/SpecificPageJS")
    <script src="~/HomeAssets/vendor/bootstrap/js/bootstrap.bundle.js"></script>
    @Scripts.Render("~/bundles/formLayoutJs")

    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.7.570/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.7.570/pdf.worker.min.js"></script>
    <script src="https://cdn.ckeditor.com/ckeditor5/38.0.1/classic/ckeditor.js"></script>
    @Html.Raw("<script src=\"https://cdn.jsdelivr.net/npm/@ckeditor/ckeditor5-upload@44.3.0/dist/index.min.js\"></script>")


    @Html.Raw("<script src='https://cdn.jsdelivr.net/npm/@fullcalendar/core@6.1.15/index.global.min.js'></script>")
    @Html.Raw("<script src='https://cdn.jsdelivr.net/npm/@fullcalendar/interaction@6.1.15/index.global.min.js'></script>")
    @Html.Raw("<script src=\"https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@6.1.15/index.global.min.js\"></script>")
    @Html.Raw("<script src=\"https://cdn.jsdelivr.net/npm/@fullcalendar/timegrid@6.1.15/index.global.min.js\"></script>")

    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

    <script src="//cdn.datatables.net/1.10.9/js/jquery.dataTables.min.js"></script>
    <link href="~/Scripts/owl.carousel.min.css" rel="stylesheet" />
    <script src="~/Scripts/owl.carousel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.marquee/1.3.1/jquery.marquee.min.js"></script>

    <script src="~/SmartTheme/js/slick.min.js"></script>
    <script src="~/SmartTheme/js/custom.js"></script>

    <script src="~/Content/page-scripts/Users/Create.js?v=@DateTime.Now.ToString("yyyyMMddHHmmssf")"></script>
    @Scripts.Render("~/bundles/pageScriptJS")

    @RenderSection("scripts", required: false)
    <script src="~/Content/page-scripts/Setting/ChangeImage.js?v=@DateTime.Now.ToString("yyyyMMddHHmmssf")"></script>

    <script type="text/javascript">
        $(document).ready(function () {

            $(document).on("change", "select", function () {
                $(this).blur(); // Remove focus after selection
            });

            document.addEventListener('DOMContentLoaded', function () {
                var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
                var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
                    return new bootstrap.Tooltip(tooltipTriggerEl);
                });
            });

            $(".btnChangeImage").click(function () {
                openChangeImageModel();
            });

            $("#copyReferalCode").click(function () {
                    var icon = $("#copyReferalIcon");
                try {
                    var code = "@userData.ReferalCode";
                    navigator.clipboard.writeText(code).then(() => {
                        console.log("copied");
                        icon.removeClass("bi-copy");
                        icon.addClass("bi-check-circle");
                        setTimeout(() => {
                            icon.removeClass("bi-check-circle");
                            icon.addClass("bi-copy");
                        }, 2000);
                    });
                } catch (err) {
                    console.log(err);
                    icon.removeClass("bi-check-circle");
                    icon.addClass("bi-copy");
                }
            })

            $('.btnShareIt').on('click', function () {
                $('.share-icon-wrap').show();
                if ($(document).height() > $(window).height()) {
                    var scrollTop = ($('html').scrollTop()) ? $('html').scrollTop() : $('body').scrollTop(); // Works for Chrome, Firefox, IE...
                    $('body').addClass('modal-shown').css('top', -scrollTop);
                } else {
                    $('body').addClass('modal-shown');
                }


                $('.share-icon-wrap .close').on('click', function () {
                    $('.share-icon-wrap').hide();
                    $('body').removeClass('modal-shown');
                });
            });
        });



        var openChangeImageModel = function () {
            $.ajax({
                type: 'GET',
                cache: false,
                url: '/home/ChangeImageModel',
                dataType: 'html',
                success: function (data, strStatus) {
                    $("body").append(data);
                    OpenModel("changeImageModal");
                    $("#changeImageModal").addClass("show");
                    //initiate funciton

                    var cLogo = new companyLogo();
                    cLogo.uploadLogoUrl = "@Url.Action("SaveUserFile", "Users")";
                    cLogo.init();


                },
                error: handleAjaxError()
            });
        }
    </script>
    <span id="siteseal">
        <script type="text/javascript" src="https://seal.godaddy.com/getSeal?sealID=gazCwgc7L5fgeiqBi29XI1qyeQ4FuKXC90SRWzldF0jPBVdfr8IosX5mnWzr"></script>
    </span>
</body>

</html>